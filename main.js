(()=>{"use strict";var e={7:(e,t,n)=>{e.exports=n.p+"59806db1143300964be7.jpg"},739:(e,t,n)=>{e.exports=n.p+"87ff01ab9b59015a2215.jpg"},935:(e,t,n)=>{e.exports=n.p+"c8a6dcc7e8df50e548cf.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="",n.b=document.baseURI||self.location.href,(()=>{var e=document.querySelector(".profile__edit-btn"),t=(document.querySelector(".profile__name"),document.querySelector(".profile__desc"),document.querySelector(".profile__add-btn")),r=document.querySelector(".popup_type_edit-profile"),o=r.querySelector(".popup__form"),i=r.querySelector(".popup__input_type_name"),u=r.querySelector(".popup__input_type_profession"),c=(r.querySelector(".popup__submit-btn"),Array.from(r.querySelectorAll(".popup__input")),document.querySelector(".popup_type_add-card")),a=c.querySelector(".popup__form"),l=(a.querySelector(".popup__input_type_img-title"),a.querySelector(".popup__input_type_img-link"),c.querySelector(".popup__submit-btn"),Array.from(c.querySelectorAll(".popup__input")),document.querySelector(".popup_type_zoom-img")),p=(l.querySelector(".popup__img"),l.querySelector(".popup__img-desc"),document.querySelector(".cards-layout")),s=(document.querySelector(".card-template"),document.querySelectorAll(".popup"),document.querySelectorAll(".popup__close-btn"),{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error",errorClassActive:"popup__input-error_active"}),f=[{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Байкал"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Камчатка"},{name:"Карачаево-Черкесская республика",link:new URL(n(935),n.b),alt:"Вид на монастырь в Карачаевске"},{name:"Домбай",link:new URL(n(7),n.b),alt:"Вид на горы в Домбае"},{name:"Гора Эльбрус",link:new URL(n(739),n.b),alt:"Вид на Эльбрус"},{name:"Рим",link:"https://images.unsplash.com/photo-1569416078500-3857b00616f8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1036&q=80",alt:"Вид на узкую улицу Рима"}];function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._alt=t.alt,void 0===t.alt&&(this._alt="Изображение: ".concat(t.name)),this._cardSelector=n,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.cloneNode(!0).querySelector(".card")}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardTitle=this._element.querySelector(".card__title"),this._cardImg=this._element.querySelector(".card__image"),this._likeBtn=this._element.querySelector(".card__like-btn"),this._removeBtn=this._element.querySelector(".card__remove-btn"),this._cardTitle.textContent=this._name,this._cardImg.src=this._link,this._cardImg.alt=this._alt,this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._removeBtn.addEventListener("click",(function(){e._removeCard()})),this._likeBtn.addEventListener("click",(function(){e._setCardLike()})),this._cardImg.addEventListener("click",(function(){e._handleCardClick(e._name,e._link,e._alt)}))}},{key:"_removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_setCardLike",value:function(){this._likeBtn.classList.toggle("card__like-btn_active")}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClassActive),t.textContent=""}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),t.classList.add(this._config.errorClassActive),t.textContent=e.validationMessage}},{key:"_includeInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_disableButtonElement",value:function(){this._buttonElement.disabled=!0}},{key:"_enableButtonElement",value:function(){this._buttonElement.disabled=!1}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))})),this._toggleButtonState()}},{key:"_toggleButtonState",value:function(){this._includeInvalidInput()?this._disableButtonElement():this._enableButtonElement()}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValiadtion",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._closeBtn=this._popup.querySelector(".popup__close-btn"),this._popupContainer=this._popup.querySelector(".popup__container")}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose.bind(this))}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),this.removeEventListeners()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"_handleOverlayClose",value:function(e){e.target!=this._popup&&e.target!=this._popupContainer||this.closePopup()}},{key:"setEventListeners",value:function(){this._popup.addEventListener("click",this._handleOverlayClose.bind(this)),this._closeBtn.addEventListener("click",this.closePopup.bind(this))}},{key:"removeEventListeners",value:function(){this._popup.removeEventListener("click",this._handleOverlayClose.bind(this)),this._closeBtn.removeEventListener("click",this.closePopup.bind(this)),document.removeEventListener("keydown",this._handleEscClose.bind(this))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function P(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__img"),t._imageCaption=t._popup.querySelector(".popup__img-desc"),t}return t=u,(n=[{key:"openPopup",value:function(e,t,n){this._image.src=t,this._image.alt=n,this._imageCaption.textContent=e,w(q(u.prototype),"openPopup",this).call(this)}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(g);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=B(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},x.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function R(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function u(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e)).handleFormSubmit=r,n._form=n._popup.querySelector(".popup__form"),n._submitBtn=n._popup.querySelector(".popup__submit-btn"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popup.querySelectorAll(".popup__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e.handleFormSubmit(e._getInputValues()),e._form.reset()})),x(A(u.prototype),"setEventListeners",this).call(this)}},{key:"closePopup",value:function(){x(A(u.prototype),"closePopup",this).call(this),this._form.reset()}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(g);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._description=document.querySelector(n)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,description:this._description.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._description.textContent=e.description}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),D=new h(s,o);D.enableValidation();var F=new h(s,a);F.enableValidation();var M=new U(".profile__name",".profile__desc"),H=new T(".popup_type_edit-profile",{handleFormSubmit:function(e){M.setUserInfo(e),H.closePopup()}});H.setEventListeners();var z=new T(".popup_type_add-card",{handleFormSubmit:function(e){Y(e),z.closePopup()}});z.setEventListeners();var G=new j(".popup_type_zoom-img");G.setEventListeners();var N=function(e,t,n){G.openPopup(e,t,n)},W=function(e){return new y(e,".card-template",N).generateCard()},Y=function(e){p.prepend(W(e))},J=new v({data:f,renderer:function(e){var t=W(e);J.addItem(t)}},".cards-layout");J.renderItems(),e.addEventListener("click",(function(){var e=M.getUserInfo();i.value=e.name,u.value=e.description,D.resetValiadtion(),H.openPopup()})),t.addEventListener("click",(function(){F.resetValiadtion(),z.openPopup()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBQ3NELEdBQ1YsSUFBTUMsRUFBT0osRUFBV0csR0FDeEJELEVBQWlCRyxRQUFRRCxFQUN6QixHQUVGLGlCQUdERixFQUFpQkksY0FFakJ6SSxFQUFlK0MsaUJBQWlCLFNBQVMsV0FDeEMsSUFBTTJGLEVBQVdoQixFQUFZaUIsY0FDN0J0SSxFQUFjeUcsTUFBUTRCLEVBQVNuSCxLQUMvQmpCLEVBQW9Cd0csTUFBUTRCLEVBQVNwQixZQUNyQ0MsRUFBbUJxQixrQkFDbkJqQixFQUFjTyxXQUNkLElBRURoSSxFQUFjNkMsaUJBQWlCLFNBQVMsV0FDdkMwRSxFQUFrQm1CLGtCQUNsQmIsRUFBZ0JHLFdBQ2hCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdC9kYXRhLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdC9jYXJkcy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHQvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHQvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHQvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHQvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0L1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdC9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdC9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY1wiKTtcclxuY29uc3QgcHJvZmlsZUFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVcIik7XHJcbmNvbnN0IHBvcHVwRWRpdEZvcm0gPSBwb3B1cEVkaXQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuY29uc3QgcG9wdXBFZGl0TmFtZSA9IHBvcHVwRWRpdC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX25hbWVcIik7XHJcbmNvbnN0IHBvcHVwRWRpdFByb2Zlc3Npb24gPSBwb3B1cEVkaXQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5wb3B1cF9faW5wdXRfdHlwZV9wcm9mZXNzaW9uXCJcclxuKTtcclxuY29uc3QgcG9wdXBFZGl0U3VibWl0QnRuID0gcG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1Ym1pdC1idG5cIik7XHJcbmNvbnN0IHBvcHVwRWRpdElucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcblx0cG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXHJcbik7XHJcblxyXG5jb25zdCBwb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiKTtcclxuY29uc3QgcG9wdXBBZGRGb3JtID0gcG9wdXBBZGQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuY29uc3QgcG9wdXBBZGRJbWdUaXRsZSA9IHBvcHVwQWRkRm9ybS5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLnBvcHVwX19pbnB1dF90eXBlX2ltZy10aXRsZVwiXHJcbik7XHJcbmNvbnN0IHBvcHVwQWRkSW1nTGluayA9IHBvcHVwQWRkRm9ybS5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLnBvcHVwX19pbnB1dF90eXBlX2ltZy1saW5rXCJcclxuKTtcclxuY29uc3QgcG9wdXBBZGRTdWJtaXRCdG4gPSBwb3B1cEFkZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXQtYnRuXCIpO1xyXG5jb25zdCBwb3B1cEFkZElucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcblx0cG9wdXBBZGQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIilcclxuKTtcclxuXHJcbmNvbnN0IHBvcHVwWm9vbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV96b29tLWltZ1wiKTtcclxuY29uc3QgcG9wdXBab29tSW1nID0gcG9wdXBab29tLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltZ1wiKTtcclxuY29uc3QgcG9wdXBab29tRGVzYyA9IHBvcHVwWm9vbS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWctZGVzY1wiKTtcclxuXHJcbmNvbnN0IGNhcmRzTGF5b3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkcy1sYXlvdXRcIik7XHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC10ZW1wbGF0ZVwiKTtcclxuXHJcbmNvbnN0IHBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBcIik7XHJcbmNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2Nsb3NlLWJ0blwiKTtcclxuY29uc3QgZ2V0Q2FyZEJ5RXZlbnQgPSAoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoXCIuY2FyZFwiKTtcclxuXHJcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcblx0Zm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG5cdGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG5cdHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0LWJ0blwiLFxyXG5cdGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG5cdGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG5cdGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yXCIsXHJcblx0ZXJyb3JDbGFzc0FjdGl2ZTogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG5leHBvcnQge1xyXG5cdHByb2ZpbGVFZGl0QnRuLFxyXG5cdHByb2ZpbGVOYW1lLFxyXG5cdHByb2ZpbGVEZXNjcmlwdGlvbixcclxuXHRwcm9maWxlQWRkQnRuLFxyXG5cdHBvcHVwRWRpdCxcclxuXHRwb3B1cEVkaXRGb3JtLFxyXG5cdHBvcHVwRWRpdE5hbWUsXHJcblx0cG9wdXBFZGl0UHJvZmVzc2lvbixcclxuXHRwb3B1cEVkaXRTdWJtaXRCdG4sXHJcblx0cG9wdXBFZGl0SW5wdXRMaXN0LFxyXG5cdHBvcHVwQWRkLFxyXG5cdHBvcHVwQWRkRm9ybSxcclxuXHRwb3B1cEFkZEltZ1RpdGxlLFxyXG5cdHBvcHVwQWRkSW1nTGluayxcclxuXHRwb3B1cEFkZFN1Ym1pdEJ0bixcclxuXHRwb3B1cEFkZElucHV0TGlzdCxcclxuXHRwb3B1cFpvb20sXHJcblx0cG9wdXBab29tSW1nLFxyXG5cdHBvcHVwWm9vbURlc2MsXHJcblx0Y2FyZHNMYXlvdXQsXHJcblx0Y2FyZFRlbXBsYXRlLFxyXG5cdHBvcHVwcyxcclxuXHRjbG9zZUJ1dHRvbnMsXHJcblx0Z2V0Q2FyZEJ5RXZlbnQsXHJcblx0dmFsaWRhdGlvbkNvbmZpZyxcclxufTtcclxuIiwiY29uc3Qga2FyYWNoYWV2c2tJbWcgPSBuZXcgVVJMKFxyXG5cdFwiLi4vaW1hZ2VzL2NhcmRzL2thcmFjaGFldnNrLmpwZ1wiLFxyXG5cdGltcG9ydC5tZXRhLnVybFxyXG4pO1xyXG5jb25zdCBkb21iYXlJbWcgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2NhcmRzL2RvbWJheS5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcclxuY29uc3QgZWxicnVzSW1nID0gbmV3IFVSTChcIi4uL2ltYWdlcy9jYXJkcy9lbGJydXMuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XHJcblxyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcblx0e1xyXG5cdFx0bmFtZTogXCLQkdCw0LnQutCw0LtcIixcclxuXHRcdGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGdcIixcclxuXHRcdGFsdDogXCLQkdCw0LnQutCw0LtcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6IFwi0JrQsNC80YfQsNGC0LrQsFwiLFxyXG5cdFx0bGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZ1wiLFxyXG5cdFx0YWx0OiBcItCa0LDQvNGH0LDRgtC60LBcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6IFwi0JrQsNGA0LDRh9Cw0LXQstC+LdCn0LXRgNC60LXRgdGB0LrQsNGPINGA0LXRgdC/0YPQsdC70LjQutCwXCIsXHJcblx0XHRsaW5rOiBrYXJhY2hhZXZza0ltZyxcclxuXHRcdGFsdDogXCLQktC40LQg0L3QsCDQvNC+0L3QsNGB0YLRi9GA0Ywg0LIg0JrQsNGA0LDRh9Cw0LXQstGB0LrQtVwiLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0bmFtZTogXCLQlNC+0LzQsdCw0LlcIixcclxuXHRcdGxpbms6IGRvbWJheUltZyxcclxuXHRcdGFsdDogXCLQktC40LQg0L3QsCDQs9C+0YDRiyDQsiDQlNC+0LzQsdCw0LVcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdG5hbWU6IFwi0JPQvtGA0LAg0K3Qu9GM0LHRgNGD0YFcIixcclxuXHRcdGxpbms6IGVsYnJ1c0ltZyxcclxuXHRcdGFsdDogXCLQktC40LQg0L3QsCDQrdC70YzQsdGA0YPRgVwiLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0bmFtZTogXCLQoNC40LxcIixcclxuXHRcdGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1Njk0MTYwNzg1MDAtMzg1N2IwMDYxNmY4P2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xMDM2JnE9ODBcIixcclxuXHRcdGFsdDogXCLQktC40LQg0L3QsCDRg9C30LrRg9GOINGD0LvQuNGG0YMg0KDQuNC80LBcIixcclxuXHR9LFxyXG5dO1xyXG5cclxuZXhwb3J0IHsgaW5pdGlhbENhcmRzIH07XHJcbiIsImNsYXNzIENhcmQge1xyXG5cdGNvbnN0cnVjdG9yKG9iaiwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuXHRcdHRoaXMuX25hbWUgPSBvYmoubmFtZTtcclxuXHRcdHRoaXMuX2xpbmsgPSBvYmoubGluaztcclxuXHRcdHRoaXMuX2FsdCA9IG9iai5hbHQ7XHJcblx0XHRpZiAob2JqLmFsdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHRoaXMuX2FsdCA9IGDQmNC30L7QsdGA0LDQttC10L3QuNC1OiAke29iai5uYW1lfWA7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcblx0XHR0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcblx0fVxyXG5cclxuXHRfZ2V0VGVtcGxhdGUoKSB7XHJcblx0XHRjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuXHRcdFx0LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XHJcblxyXG5cdFx0cmV0dXJuIGNhcmRFbGVtZW50O1xyXG5cdH1cclxuXHJcblx0Z2VuZXJhdGVDYXJkKCkge1xyXG5cdFx0dGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcblx0XHR0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcblx0XHR0aGlzLl9jYXJkSW1nID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG5cdFx0dGhpcy5fbGlrZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKTtcclxuXHRcdHRoaXMuX3JlbW92ZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19yZW1vdmUtYnRuXCIpO1xyXG5cdFx0dGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHRcdHRoaXMuX2NhcmRJbWcuc3JjID0gdGhpcy5fbGluaztcclxuXHRcdHRoaXMuX2NhcmRJbWcuYWx0ID0gdGhpcy5fYWx0O1xyXG5cdFx0dGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHRcdHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG5cdH1cclxuXHJcblx0X3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0dGhpcy5fcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuX3JlbW92ZUNhcmQoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX2xpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5fc2V0Q2FyZExpa2UoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX2NhcmRJbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmssIHRoaXMuX2FsdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdF9yZW1vdmVDYXJkKCkge1xyXG5cdFx0dGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuXHRcdHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0X3NldENhcmRMaWtlKCkge1xyXG5cdFx0dGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fYWN0aXZlXCIpO1xyXG5cdH1cclxufVxyXG5leHBvcnQgeyBDYXJkIH07XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG5cdGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuXHRcdHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuXHRcdHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcblx0XHR0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG5cdFx0XHR0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG5cdFx0KTtcclxuXHRcdHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XHR0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcblx0XHRjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XHRgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuXHRcdCk7XHJcblx0XHRpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuXHRcdGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzQWN0aXZlKTtcclxuXHRcdGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcblx0fVxyXG5cclxuXHRfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcblx0XHRjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XHRgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuXHRcdCk7XHJcblx0XHRpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuXHRcdGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzQWN0aXZlKTtcclxuXHRcdGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuXHR9XHJcblxyXG5cdF9pbmNsdWRlSW52YWxpZElucHV0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuXHRcdFx0cmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcblx0XHRpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcblx0XHRcdHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0X2Rpc2FibGVCdXR0b25FbGVtZW50KCkge1xyXG5cdFx0dGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcblx0fVxyXG5cclxuXHRfZW5hYmxlQnV0dG9uRWxlbWVudCgpIHtcclxuXHRcdHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuXHRcdHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuXHRcdFx0aW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcblx0XHRcdFx0dGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0X3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG5cdFx0aWYgKHRoaXMuX2luY2x1ZGVJbnZhbGlkSW5wdXQoKSkge1xyXG5cdFx0XHR0aGlzLl9kaXNhYmxlQnV0dG9uRWxlbWVudCgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5fZW5hYmxlQnV0dG9uRWxlbWVudCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuXHRcdHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblx0fVxyXG5cclxuXHRyZXNldFZhbGlhZHRpb24oKSB7XHJcblx0XHR0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuXHRcdHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuXHRcdFx0dGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IHsgRm9ybVZhbGlkYXRvciB9O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuXHRjb25zdHJ1Y3Rvcih7IGRhdGEsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcblx0XHR0aGlzLl9pbml0aWFsQXJyYXkgPSBkYXRhO1xyXG5cdFx0dGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHRcdHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVySXRlbXMoKSB7XHJcblx0XHR0aGlzLl9pbml0aWFsQXJyYXkuZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdFx0dGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGFkZEl0ZW0oZWxlbWVudCkge1xyXG5cdFx0dGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuXHRjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcblx0XHR0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcblx0XHR0aGlzLl9jbG9zZUJ0biA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ0blwiKTtcclxuXHRcdHRoaXMuX3BvcHVwQ29udGFpbmVyID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGFpbmVyXCIpO1xyXG5cdH1cclxuXHJcblx0b3BlblBvcHVwKCkge1xyXG5cdFx0dGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcykpO1xyXG5cdH1cclxuXHJcblx0Y2xvc2VQb3B1cCgpIHtcclxuXHRcdHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcblx0XHR0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcblx0fVxyXG5cclxuXHRfaGFuZGxlRXNjQ2xvc2UoZSkge1xyXG5cdFx0aWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcblx0XHRcdHRoaXMuY2xvc2VQb3B1cCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0X2hhbmRsZU92ZXJsYXlDbG9zZShlKSB7XHJcblx0XHRpZiAoZS50YXJnZXQgPT0gdGhpcy5fcG9wdXAgfHwgZS50YXJnZXQgPT0gdGhpcy5fcG9wdXBDb250YWluZXIpIHtcclxuXHRcdFx0dGhpcy5jbG9zZVBvcHVwKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzZXRFdmVudExpc3RlbmVycygpIHtcclxuXHRcdHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UuYmluZCh0aGlzKSk7XHJcblx0XHR0aGlzLl9jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZVBvcHVwLmJpbmQodGhpcykpO1xyXG5cdH1cclxuXHJcblx0cmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHR0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZS5iaW5kKHRoaXMpXHJcblx0XHQpO1xyXG5cdFx0dGhpcy5fY2xvc2VCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpKTtcclxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcykpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG5cdGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuXHRcdHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWdcIik7XHJcblx0XHR0aGlzLl9pbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWctZGVzY1wiKTtcclxuXHR9XHJcblx0b3BlblBvcHVwKG5hbWUsIGxpbmssIGFsdCkge1xyXG5cdFx0dGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuXHRcdHRoaXMuX2ltYWdlLmFsdCA9IGFsdDtcclxuXHRcdHRoaXMuX2ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcblx0XHRzdXBlci5vcGVuUG9wdXAoKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG5cdGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcblx0XHRzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHRcdHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcblx0XHR0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuXHRcdHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1Ym1pdC1idG5cIik7XHJcblx0fVxyXG5cdF9nZXRJbnB1dFZhbHVlcygpIHtcclxuXHRcdC8vIGdldCB2YWx1ZXMgZnJvbSBhbGwgZm9ybSBpbnB1dHNcclxuXHRcdHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xyXG5cclxuXHRcdHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuXHJcblx0XHR0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuXHRcdFx0dGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuXHR9XHJcblx0c2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHQvLyAgYWRkIHN1Ym1pdCBoYW5kbGVyINC00L7QsdCw0LLQu9GP0YLRjCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdCw0LHQvNC40YLQsCDRhNC+0YDQvNGLLlxyXG5cdFx0dGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG5cdFx0XHR0aGlzLl9mb3JtLnJlc2V0KCk7XHJcblx0XHR9KTtcclxuXHRcdHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblx0fVxyXG5cdGNsb3NlUG9wdXAoKSB7XHJcblx0XHQvL2Nsb3NlIHBvcHVwIGFuZCByZXNldCBmb3JtXHJcblx0XHRzdXBlci5jbG9zZVBvcHVwKCk7XHJcblx0XHR0aGlzLl9mb3JtLnJlc2V0KCk7XHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuXHRjb25zdHJ1Y3Rvcihwcm9maWxlTmFtZSwgcHJvZmlsZURlc2MpIHtcclxuXHRcdHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lKTtcclxuXHRcdHRoaXMuX2Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlRGVzYyk7XHJcblx0fVxyXG5cdGdldFVzZXJJbmZvKCkge1xyXG5cdFx0Y29uc3QgdXNlckRhdGEgPSB7XHJcblx0XHRcdG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcblx0XHRcdGRlc2NyaXB0aW9uOiB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCxcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gdXNlckRhdGE7XHJcblx0fVxyXG5cdHNldFVzZXJJbmZvKGRhdGEpIHtcclxuXHRcdHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcblx0XHR0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuZGVzY3JpcHRpb247XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCBcIi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcblx0cHJvZmlsZUVkaXRCdG4sXHJcblx0cHJvZmlsZUFkZEJ0bixcclxuXHRwb3B1cEVkaXRGb3JtLFxyXG5cdHBvcHVwRWRpdE5hbWUsXHJcblx0cG9wdXBFZGl0UHJvZmVzc2lvbixcclxuXHRwb3B1cEFkZEZvcm0sXHJcblx0Y2FyZHNMYXlvdXQsXHJcblx0dmFsaWRhdGlvbkNvbmZpZyxcclxufSBmcm9tIFwiLi9zY3JpcHQvZGF0YS5qc1wiO1xyXG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tIFwiLi9zY3JpcHQvY2FyZHMuanNcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuL3NjcmlwdC9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi9zY3JpcHQvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9zY3JpcHQvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vc2NyaXB0L1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuL3NjcmlwdC9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9zY3JpcHQvVXNlckluZm8uanNcIjtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwRWRpdEZvcm0pO1xyXG5wb3B1cEVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jb25zdCBwb3B1cEFkZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwQWRkRm9ybSk7XHJcbnBvcHVwQWRkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKFwiLnByb2ZpbGVfX25hbWVcIiwgXCIucHJvZmlsZV9fZGVzY1wiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0b3IgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiLCB7XHJcblx0aGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1EYXRhKSA9PiB7XHJcblx0XHRwcm9maWxlSW5mby5zZXRVc2VySW5mbyhmb3JtRGF0YSk7XHJcblx0XHRwcm9maWxlRWRpdG9yLmNsb3NlUG9wdXAoKTtcclxuXHR9LFxyXG59KTtcclxuXHJcbnByb2ZpbGVFZGl0b3Iuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IG5ld0NhcmRSZW5kZXJlciA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIiwge1xyXG5cdGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtRGF0YSkgPT4ge1xyXG5cdFx0cmVuZGVyQ2FyZChmb3JtRGF0YSk7XHJcblx0XHRuZXdDYXJkUmVuZGVyZXIuY2xvc2VQb3B1cCgpO1xyXG5cdH0sXHJcbn0pO1xyXG5cclxubmV3Q2FyZFJlbmRlcmVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjYXJkSW1nWm9vbSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX3pvb20taW1nXCIpO1xyXG5cclxuY2FyZEltZ1pvb20uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGhhbmRsZUNhcmRDbGljayA9IChuYW1lLCBsaW5rLCBhbHQpID0+IHtcclxuXHRjYXJkSW1nWm9vbS5vcGVuUG9wdXAobmFtZSwgbGluaywgYWx0KTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAob2JqKSA9PiB7XHJcblx0Y29uc3QgY2FyZCA9IG5ldyBDYXJkKG9iaiwgXCIuY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVDYXJkQ2xpY2spLmdlbmVyYXRlQ2FyZCgpO1xyXG5cdHJldHVybiBjYXJkO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9IChvYmopID0+IHtcclxuXHRjYXJkc0xheW91dC5wcmVwZW5kKGNyZWF0ZUNhcmQob2JqKSk7XHJcbn07XHJcblxyXG5jb25zdCBpbml0aWFsQ2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXHJcblx0e1xyXG5cdFx0ZGF0YTogaW5pdGlhbENhcmRzLFxyXG5cdFx0cmVuZGVyZXI6IChjYXJkSXRlbSkgPT4ge1xyXG5cdFx0XHRjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChjYXJkSXRlbSk7XHJcblx0XHRcdGluaXRpYWxDYXJkc0xpc3QuYWRkSXRlbShjYXJkKTtcclxuXHRcdH0sXHJcblx0fSxcclxuXHRcIi5jYXJkcy1sYXlvdXRcIlxyXG4pO1xyXG5cclxuaW5pdGlhbENhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xyXG5cclxucHJvZmlsZUVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRjb25zdCBwcm9mRGF0YSA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcblx0cG9wdXBFZGl0TmFtZS52YWx1ZSA9IHByb2ZEYXRhLm5hbWU7XHJcblx0cG9wdXBFZGl0UHJvZmVzc2lvbi52YWx1ZSA9IHByb2ZEYXRhLmRlc2NyaXB0aW9uO1xyXG5cdHBvcHVwRWRpdFZhbGlkYXRvci5yZXNldFZhbGlhZHRpb24oKTtcclxuXHRwcm9maWxlRWRpdG9yLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRwb3B1cEFkZFZhbGlkYXRvci5yZXNldFZhbGlhZHRpb24oKTtcclxuXHRuZXdDYXJkUmVuZGVyZXIub3BlblBvcHVwKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibyIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiYiIsImRvY3VtZW50IiwiYmFzZVVSSSIsInNlbGYiLCJsb2NhdGlvbiIsImhyZWYiLCJwcm9maWxlRWRpdEJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlQWRkQnRuIiwicG9wdXBFZGl0IiwicG9wdXBFZGl0Rm9ybSIsInBvcHVwRWRpdE5hbWUiLCJwb3B1cEVkaXRQcm9mZXNzaW9uIiwicG9wdXBBZGQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwicG9wdXBBZGRGb3JtIiwicG9wdXBab29tIiwiY2FyZHNMYXlvdXQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJlcnJvckNsYXNzQWN0aXZlIiwiaW5pdGlhbENhcmRzIiwibmFtZSIsImxpbmsiLCJhbHQiLCJVUkwiLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfYWx0IiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRpdGxlIiwiX2NhcmRJbWciLCJfbGlrZUJ0biIsIl9yZW1vdmVCdG4iLCJ0ZXh0Q29udGVudCIsInNyYyIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfcmVtb3ZlQ2FyZCIsIl9zZXRDYXJkTGlrZSIsInJlbW92ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9jb25maWciLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiX2J1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImFkZCIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJkaXNhYmxlZCIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2luY2x1ZGVJbnZhbGlkSW5wdXQiLCJfZGlzYWJsZUJ1dHRvbkVsZW1lbnQiLCJfZW5hYmxlQnV0dG9uRWxlbWVudCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsImRhdGEiLCJyZW5kZXJlciIsIl9pbml0aWFsQXJyYXkiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2Nsb3NlQnRuIiwiX3BvcHVwQ29udGFpbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiZSIsImtleSIsImNsb3NlUG9wdXAiLCJ0YXJnZXQiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX2ltYWdlQ2FwdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfc3VibWl0QnRuIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzYyIsIl9kZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwicG9wdXBFZGl0VmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwQWRkVmFsaWRhdG9yIiwicHJvZmlsZUluZm8iLCJwcm9maWxlRWRpdG9yIiwiZm9ybURhdGEiLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwibmV3Q2FyZFJlbmRlcmVyIiwicmVuZGVyQ2FyZCIsImNhcmRJbWdab29tIiwib3BlblBvcHVwIiwiY3JlYXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImluaXRpYWxDYXJkc0xpc3QiLCJjYXJkSXRlbSIsImNhcmQiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJwcm9mRGF0YSIsImdldFVzZXJJbmZvIiwicmVzZXRWYWxpYWR0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==