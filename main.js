(()=>{"use strict";var e={7:(e,t,n)=>{e.exports=n.p+"59806db1143300964be7.jpg"},739:(e,t,n)=>{e.exports=n.p+"87ff01ab9b59015a2215.jpg"},935:(e,t,n)=>{e.exports=n.p+"c8a6dcc7e8df50e548cf.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="",n.b=document.baseURI||self.location.href,(()=>{var e=document.querySelector(".profile__edit-btn"),t=(document.querySelector(".profile__name"),document.querySelector(".profile__desc"),document.querySelector(".profile__add-btn")),r=document.querySelector(".popup_type_edit-profile"),o=r.querySelector(".popup__form"),i=r.querySelector(".popup__input_type_name"),u=r.querySelector(".popup__input_type_profession"),c=(r.querySelector(".popup__submit-btn"),Array.from(r.querySelectorAll(".popup__input")),document.querySelector(".popup_type_add-card")),a=c.querySelector(".popup__form"),l=(a.querySelector(".popup__input_type_img-title"),a.querySelector(".popup__input_type_img-link"),c.querySelector(".popup__submit-btn"),Array.from(c.querySelectorAll(".popup__input")),document.querySelector(".popup_type_zoom-img")),p=(l.querySelector(".popup__img"),l.querySelector(".popup__img-desc"),document.querySelector(".cards-layout")),s=(document.querySelector(".card-template"),document.querySelectorAll(".popup"),document.querySelectorAll(".popup__close-btn"),{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error",errorClassActive:"popup__input-error_active"}),f=[{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Байкал"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Камчатка"},{name:"Карачаево-Черкесская республика",link:new URL(n(935),n.b),alt:"Вид на монастырь в Карачаевске"},{name:"Домбай",link:new URL(n(7),n.b),alt:"Вид на горы в Домбае"},{name:"Гора Эльбрус",link:new URL(n(739),n.b),alt:"Вид на Эльбрус"},{name:"Рим",link:"https://images.unsplash.com/photo-1569416078500-3857b00616f8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1036&q=80",alt:"Вид на узкую улицу Рима"}];function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._alt=t.alt,void 0===t.alt&&(this._alt="Изображение: ".concat(t.name)),this._cardSelector=n,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.cloneNode(!0).querySelector(".card")}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardTitle=this._element.querySelector(".card__title"),this._cardImg=this._element.querySelector(".card__image"),this._likeBtn=this._element.querySelector(".card__like-btn"),this._removeBtn=this._element.querySelector(".card__remove-btn"),this._cardTitle.textContent=this._name,this._cardImg.src=this._link,this._cardImg.alt=this._alt,this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._removeBtn.addEventListener("click",(function(){e._removeCard()})),this._likeBtn.addEventListener("click",(function(){e._setCardLike()})),this._cardImg.addEventListener("click",(function(){e._handleCardClick(e._name,e._link,e._alt)}))}},{key:"_removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_setCardLike",value:function(){this._likeBtn.classList.toggle("card__like-btn_active")}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClassActive),t.textContent=""}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),t.classList.add(this._config.errorClassActive),t.textContent=e.validationMessage}},{key:"_includeInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_disableButtonElement",value:function(){this._buttonElement.disabled=!0}},{key:"_enableButtonElement",value:function(){this._buttonElement.disabled=!1}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))})),this._toggleButtonState()}},{key:"_toggleButtonState",value:function(){this._includeInvalidInput()?this._disableButtonElement():this._enableButtonElement()}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValiadtion",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._closeBtn=this._popup.querySelector(".popup__close-btn"),this._popupContainer=this._popup.querySelector(".popup__container")}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose.bind(this))}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),this.removeEventListeners()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"_handleOverlayClose",value:function(e){e.target!=this._popup&&e.target!=this._popupContainer||this.closePopup()}},{key:"setEventListeners",value:function(){this._popup.addEventListener("click",this._handleOverlayClose.bind(this)),this._closeBtn.addEventListener("click",this.closePopup.bind(this))}},{key:"removeEventListeners",value:function(){this._popup.removeEventListener("click",this._handleOverlayClose.bind(this)),this._closeBtn.removeEventListener("click",this.closePopup.bind(this)),document.removeEventListener("keydown",this._handleEscClose.bind(this))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function P(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__img"),t._imageCaption=t._popup.querySelector(".popup__img-desc"),t}return t=u,(n=[{key:"openPopup",value:function(e,t,n){this._image.src=t,this._image.alt=n,this._imageCaption.textContent=e,w(q(u.prototype),"openPopup",this).call(this)}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(g);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=B(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},x.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function R(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function u(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e)).handleFormSubmit=r,n._form=n._popup.querySelector(".popup__form"),n._submitBtn=n._popup.querySelector(".popup__submit-btn"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popup.querySelectorAll(".popup__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e.handleFormSubmit(e._getInputValues()),e._form.reset()})),x(A(u.prototype),"setEventListeners",this).call(this)}},{key:"closePopup",value:function(){x(A(u.prototype),"closePopup",this).call(this),this._form.reset()}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(g);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._description=document.querySelector(n)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,description:this._description.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._description.textContent=e.description}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),D=new h(s,o);D.enableValidation();var F=new h(s,a);F.enableValidation();var M=new U(".profile__name",".profile__desc"),H=new T(".popup_type_edit-profile",{handleFormSubmit:function(e){M.setUserInfo(e),H.closePopup()}});H.setEventListeners();var z=new T(".popup_type_add-card",{handleFormSubmit:function(e){Y(e),z.closePopup()}});z.setEventListeners();var G=new j(".popup_type_zoom-img");G.setEventListeners();var N=function(e,t,n){G.openPopup(e,t,n)},W=function(e){return new y(e,".card-template",N).generateCard()},Y=function(e){p.prepend(W(e))},J=new v({items:f,renderer:function(e){var t=W(e);J.addItem(t)}},".cards-layout");J.renderItems(),e.addEventListener("click",(function(){var e=M.getUserInfo();i.value=e.name,u.value=e.description,D.resetValiadtion(),H.openPopup()})),t.addEventListener("click",(function(){F.resetValiadtion(),z.openPopup()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFPSixFQUFXRyxHQUN4QkQsRUFBaUJHLFFBQVFELEVBQ3pCLEdBRUYsaUJBR0RGLEVBQWlCSSxjQUVqQjFJLEVBQWVnRCxpQkFBaUIsU0FBUyxXQUN4QyxJQUFNMkYsRUFBV2hCLEVBQVlpQixjQUM3QnZJLEVBQWMwRyxNQUFRNEIsRUFBU3BILEtBQy9CakIsRUFBb0J5RyxNQUFRNEIsRUFBU3BCLFlBQ3JDQyxFQUFtQnFCLGtCQUNuQmpCLEVBQWNPLFdBQ2QsSUFFRGpJLEVBQWM4QyxpQkFBaUIsU0FBUyxXQUN2QzBFLEVBQWtCbUIsa0JBQ2xCYixFQUFnQkcsV0FDaEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0L2RhdGEuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0L2NhcmRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdC9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdC9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdC9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdC9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHQvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0L1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0L1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjXCIpO1xyXG5jb25zdCBwcm9maWxlQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnRuXCIpO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiKTtcclxuY29uc3QgcG9wdXBFZGl0Rm9ybSA9IHBvcHVwRWRpdC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5jb25zdCBwb3B1cEVkaXROYW1lID0gcG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcclxuY29uc3QgcG9wdXBFZGl0UHJvZmVzc2lvbiA9IHBvcHVwRWRpdC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLnBvcHVwX19pbnB1dF90eXBlX3Byb2Zlc3Npb25cIlxyXG4pO1xyXG5jb25zdCBwb3B1cEVkaXRTdWJtaXRCdG4gPSBwb3B1cEVkaXQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc3VibWl0LWJ0blwiKTtcclxuY29uc3QgcG9wdXBFZGl0SW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuXHRwb3B1cEVkaXQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIilcclxuKTtcclxuXHJcbmNvbnN0IHBvcHVwQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZC1jYXJkXCIpO1xyXG5jb25zdCBwb3B1cEFkZEZvcm0gPSBwb3B1cEFkZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5jb25zdCBwb3B1cEFkZEltZ1RpdGxlID0gcG9wdXBBZGRGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIucG9wdXBfX2lucHV0X3R5cGVfaW1nLXRpdGxlXCJcclxuKTtcclxuY29uc3QgcG9wdXBBZGRJbWdMaW5rID0gcG9wdXBBZGRGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIucG9wdXBfX2lucHV0X3R5cGVfaW1nLWxpbmtcIlxyXG4pO1xyXG5jb25zdCBwb3B1cEFkZFN1Ym1pdEJ0biA9IHBvcHVwQWRkLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1Ym1pdC1idG5cIik7XHJcbmNvbnN0IHBvcHVwQWRkSW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuXHRwb3B1cEFkZC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKVxyXG4pO1xyXG5cclxuY29uc3QgcG9wdXBab29tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX3pvb20taW1nXCIpO1xyXG5jb25zdCBwb3B1cFpvb21JbWcgPSBwb3B1cFpvb20ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nXCIpO1xyXG5jb25zdCBwb3B1cFpvb21EZXNjID0gcG9wdXBab29tLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltZy1kZXNjXCIpO1xyXG5cclxuY29uc3QgY2FyZHNMYXlvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzLWxheW91dFwiKTtcclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkLXRlbXBsYXRlXCIpO1xyXG5cclxuY29uc3QgcG9wdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcclxuY29uc3QgY2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fY2xvc2UtYnRuXCIpO1xyXG5jb25zdCBnZXRDYXJkQnlFdmVudCA9IChlKSA9PiBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdChcIi5jYXJkXCIpO1xyXG5cclxuY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuXHRmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcblx0aW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcblx0c3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zdWJtaXQtYnRuXCIsXHJcblx0aW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcblx0aW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcblx0ZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JcIixcclxuXHRlcnJvckNsYXNzQWN0aXZlOiBcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcblx0cHJvZmlsZUVkaXRCdG4sXHJcblx0cHJvZmlsZU5hbWUsXHJcblx0cHJvZmlsZURlc2NyaXB0aW9uLFxyXG5cdHByb2ZpbGVBZGRCdG4sXHJcblx0cG9wdXBFZGl0LFxyXG5cdHBvcHVwRWRpdEZvcm0sXHJcblx0cG9wdXBFZGl0TmFtZSxcclxuXHRwb3B1cEVkaXRQcm9mZXNzaW9uLFxyXG5cdHBvcHVwRWRpdFN1Ym1pdEJ0bixcclxuXHRwb3B1cEVkaXRJbnB1dExpc3QsXHJcblx0cG9wdXBBZGQsXHJcblx0cG9wdXBBZGRGb3JtLFxyXG5cdHBvcHVwQWRkSW1nVGl0bGUsXHJcblx0cG9wdXBBZGRJbWdMaW5rLFxyXG5cdHBvcHVwQWRkU3VibWl0QnRuLFxyXG5cdHBvcHVwQWRkSW5wdXRMaXN0LFxyXG5cdHBvcHVwWm9vbSxcclxuXHRwb3B1cFpvb21JbWcsXHJcblx0cG9wdXBab29tRGVzYyxcclxuXHRjYXJkc0xheW91dCxcclxuXHRjYXJkVGVtcGxhdGUsXHJcblx0cG9wdXBzLFxyXG5cdGNsb3NlQnV0dG9ucyxcclxuXHRnZXRDYXJkQnlFdmVudCxcclxuXHR2YWxpZGF0aW9uQ29uZmlnLFxyXG59O1xyXG4iLCJjb25zdCBrYXJhY2hhZXZza0ltZyA9IG5ldyBVUkwoXHJcblx0XCIuLi9pbWFnZXMvY2FyZHMva2FyYWNoYWV2c2suanBnXCIsXHJcblx0aW1wb3J0Lm1ldGEudXJsXHJcbik7XHJcbmNvbnN0IGRvbWJheUltZyA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvY2FyZHMvZG9tYmF5LmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xyXG5jb25zdCBlbGJydXNJbWcgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2NhcmRzL2VsYnJ1cy5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuXHR7XHJcblx0XHRuYW1lOiBcItCR0LDQudC60LDQu1wiLFxyXG5cdFx0bGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZ1wiLFxyXG5cdFx0YWx0OiBcItCR0LDQudC60LDQu1wiLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0bmFtZTogXCLQmtCw0LzRh9Cw0YLQutCwXCIsXHJcblx0XHRsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnXCIsXHJcblx0XHRhbHQ6IFwi0JrQsNC80YfQsNGC0LrQsFwiLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0bmFtZTogXCLQmtCw0YDQsNGH0LDQtdCy0L4t0KfQtdGA0LrQtdGB0YHQutCw0Y8g0YDQtdGB0L/Rg9Cx0LvQuNC60LBcIixcclxuXHRcdGxpbms6IGthcmFjaGFldnNrSW1nLFxyXG5cdFx0YWx0OiBcItCS0LjQtCDQvdCwINC80L7QvdCw0YHRgtGL0YDRjCDQsiDQmtCw0YDQsNGH0LDQtdCy0YHQutC1XCIsXHJcblx0fSxcclxuXHR7XHJcblx0XHRuYW1lOiBcItCU0L7QvNCx0LDQuVwiLFxyXG5cdFx0bGluazogZG9tYmF5SW1nLFxyXG5cdFx0YWx0OiBcItCS0LjQtCDQvdCwINCz0L7RgNGLINCyINCU0L7QvNCx0LDQtVwiLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0bmFtZTogXCLQk9C+0YDQsCDQrdC70YzQsdGA0YPRgVwiLFxyXG5cdFx0bGluazogZWxicnVzSW1nLFxyXG5cdFx0YWx0OiBcItCS0LjQtCDQvdCwINCt0LvRjNCx0YDRg9GBXCIsXHJcblx0fSxcclxuXHR7XHJcblx0XHRuYW1lOiBcItCg0LjQvFwiLFxyXG5cdFx0bGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU2OTQxNjA3ODUwMC0zODU3YjAwNjE2Zjg/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTEwMzYmcT04MFwiLFxyXG5cdFx0YWx0OiBcItCS0LjQtCDQvdCwINGD0LfQutGD0Y4g0YPQu9C40YbRgyDQoNC40LzQsFwiLFxyXG5cdH0sXHJcbl07XHJcblxyXG5leHBvcnQgeyBpbml0aWFsQ2FyZHMgfTtcclxuIiwiY2xhc3MgQ2FyZCB7XHJcblx0Y29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuXHRcdHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcblx0XHR0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG5cdFx0dGhpcy5fYWx0ID0gZGF0YS5hbHQ7XHJcblx0XHRpZiAoZGF0YS5hbHQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR0aGlzLl9hbHQgPSBg0JjQt9C+0LHRgNCw0LbQtdC90LjQtTogJHtkYXRhLm5hbWV9YDtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuXHRcdHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuXHR9XHJcblxyXG5cdF9nZXRUZW1wbGF0ZSgpIHtcclxuXHRcdGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG5cdFx0XHQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcclxuXHJcblx0XHRyZXR1cm4gY2FyZEVsZW1lbnQ7XHJcblx0fVxyXG5cclxuXHRnZW5lcmF0ZUNhcmQoKSB7XHJcblx0XHR0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuXHRcdHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuXHRcdHRoaXMuX2NhcmRJbWcgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcblx0XHR0aGlzLl9saWtlQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpO1xyXG5cdFx0dGhpcy5fcmVtb3ZlQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3JlbW92ZS1idG5cIik7XHJcblx0XHR0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cdFx0dGhpcy5fY2FyZEltZy5zcmMgPSB0aGlzLl9saW5rO1xyXG5cdFx0dGhpcy5fY2FyZEltZy5hbHQgPSB0aGlzLl9hbHQ7XHJcblx0XHR0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cdFx0cmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcblx0fVxyXG5cclxuXHRfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHR0aGlzLl9yZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5fcmVtb3ZlQ2FyZCgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fbGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9zZXRDYXJkTGlrZSgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fY2FyZEltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaywgdGhpcy5fYWx0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0X3JlbW92ZUNhcmQoKSB7XHJcblx0XHR0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG5cdFx0dGhpcy5fZWxlbWVudCA9IG51bGw7XHJcblx0fVxyXG5cclxuXHRfc2V0Q2FyZExpa2UoKSB7XHJcblx0XHR0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcblx0fVxyXG59XHJcbmV4cG9ydCB7IENhcmQgfTtcclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcblx0Y29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG5cdFx0dGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG5cdFx0dGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuXHRcdHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcblx0XHRcdHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpXHJcblx0XHQpO1xyXG5cdFx0dGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG5cdFx0KTtcclxuXHRcdGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG5cdFx0ZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3NBY3RpdmUpO1xyXG5cdFx0ZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuXHR9XHJcblxyXG5cdF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG5cdFx0KTtcclxuXHRcdGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG5cdFx0ZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3NBY3RpdmUpO1xyXG5cdFx0ZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG5cdH1cclxuXHJcblx0X2luY2x1ZGVJbnZhbGlkSW5wdXQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0X2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuXHRcdGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuXHRcdFx0dGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRfZGlzYWJsZUJ1dHRvbkVsZW1lbnQoKSB7XHJcblx0XHR0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdF9lbmFibGVCdXR0b25FbGVtZW50KCkge1xyXG5cdFx0dGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0X3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0dGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG5cdFx0XHRpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuXHRcdFx0XHR0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblx0fVxyXG5cclxuXHRfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcblx0XHRpZiAodGhpcy5faW5jbHVkZUludmFsaWRJbnB1dCgpKSB7XHJcblx0XHRcdHRoaXMuX2Rpc2FibGVCdXR0b25FbGVtZW50KCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9lbmFibGVCdXR0b25FbGVtZW50KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRlbmFibGVWYWxpZGF0aW9uKCkge1xyXG5cdFx0dGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHR9XHJcblxyXG5cdHJlc2V0VmFsaWFkdGlvbigpIHtcclxuXHRcdHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG5cdFx0dGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgeyBGb3JtVmFsaWRhdG9yIH07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG5cdGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcblx0XHR0aGlzLl9pbml0aWFsQXJyYXkgPSBpdGVtcztcclxuXHRcdHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcblx0XHR0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlckl0ZW1zKCkge1xyXG5cdFx0dGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRhZGRJdGVtKGVsZW1lbnQpIHtcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcblx0Y29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG5cdFx0dGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5fY2xvc2VCdG4gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idG5cIik7XHJcblx0XHR0aGlzLl9wb3B1cENvbnRhaW5lciA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lclwiKTtcclxuXHR9XHJcblxyXG5cdG9wZW5Qb3B1cCgpIHtcclxuXHRcdHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdGNsb3NlUG9wdXAoKSB7XHJcblx0XHR0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG5cdFx0dGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG5cdH1cclxuXHJcblx0X2hhbmRsZUVzY0Nsb3NlKGUpIHtcclxuXHRcdGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG5cdFx0XHR0aGlzLmNsb3NlUG9wdXAoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdF9oYW5kbGVPdmVybGF5Q2xvc2UoZSkge1xyXG5cdFx0aWYgKGUudGFyZ2V0ID09IHRoaXMuX3BvcHVwIHx8IGUudGFyZ2V0ID09IHRoaXMuX3BvcHVwQ29udGFpbmVyKSB7XHJcblx0XHRcdHRoaXMuY2xvc2VQb3B1cCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHR0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlLmJpbmQodGhpcykpO1xyXG5cdFx0dGhpcy5fY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0dGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHR0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UuYmluZCh0aGlzKVxyXG5cdFx0KTtcclxuXHRcdHRoaXMuX2Nsb3NlQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlUG9wdXAuYmluZCh0aGlzKSk7XHJcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuXHRjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcblx0XHRzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nXCIpO1xyXG5cdFx0dGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nLWRlc2NcIik7XHJcblx0fVxyXG5cdG9wZW5Qb3B1cChuYW1lLCBsaW5rLCBhbHQpIHtcclxuXHRcdHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcblx0XHR0aGlzLl9pbWFnZS5hbHQgPSBhbHQ7XHJcblx0XHR0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG5cdFx0c3VwZXIub3BlblBvcHVwKCk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuXHRjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCB7IGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG5cdFx0c3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblx0XHR0aGlzLmhhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG5cdFx0dGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcblx0XHR0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXQtYnRuXCIpO1xyXG5cdH1cclxuXHRfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcblx0XHQvLyBnZXQgdmFsdWVzIGZyb20gYWxsIGZvcm0gaW5wdXRzXHJcblx0XHR0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuXHJcblx0XHR0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcblxyXG5cdFx0dGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0XHRcdHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcblx0fVxyXG5cdHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0Ly8gIGFkZCBzdWJtaXQgaGFuZGxlciDQtNC+0LHQsNCy0LvRj9GC0Ywg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRiy5cclxuXHRcdHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuXHRcdFx0dGhpcy5fZm9ybS5yZXNldCgpO1xyXG5cdFx0fSk7XHJcblx0XHRzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cdH1cclxuXHRjbG9zZVBvcHVwKCkge1xyXG5cdFx0Ly9jbG9zZSBwb3B1cCBhbmQgcmVzZXQgZm9ybVxyXG5cdFx0c3VwZXIuY2xvc2VQb3B1cCgpO1xyXG5cdFx0dGhpcy5fZm9ybS5yZXNldCgpO1xyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcblx0Y29uc3RydWN0b3IocHJvZmlsZU5hbWUsIHByb2ZpbGVEZXNjKSB7XHJcblx0XHR0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZSk7XHJcblx0XHR0aGlzLl9kZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZURlc2MpO1xyXG5cdH1cclxuXHRnZXRVc2VySW5mbygpIHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0ge1xyXG5cdFx0XHRuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG5cdFx0XHRkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQsXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIHVzZXJEYXRhO1xyXG5cdH1cclxuXHRzZXRVc2VySW5mbyhkYXRhKSB7XHJcblx0XHR0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG5cdFx0dGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLmRlc2NyaXB0aW9uO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQge1xyXG5cdHByb2ZpbGVFZGl0QnRuLFxyXG5cdHByb2ZpbGVBZGRCdG4sXHJcblx0cG9wdXBFZGl0Rm9ybSxcclxuXHRwb3B1cEVkaXROYW1lLFxyXG5cdHBvcHVwRWRpdFByb2Zlc3Npb24sXHJcblx0cG9wdXBBZGRGb3JtLFxyXG5cdGNhcmRzTGF5b3V0LFxyXG5cdHZhbGlkYXRpb25Db25maWcsXHJcbn0gZnJvbSBcIi4vc2NyaXB0L2RhdGEuanNcIjtcclxuaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSBcIi4vc2NyaXB0L2NhcmRzLmpzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi9zY3JpcHQvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4vc2NyaXB0L0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vc2NyaXB0L1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL3NjcmlwdC9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9zY3JpcHQvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vc2NyaXB0L1VzZXJJbmZvLmpzXCI7XHJcblxyXG5jb25zdCBwb3B1cEVkaXRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEVkaXRGb3JtKTtcclxucG9wdXBFZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY29uc3QgcG9wdXBBZGRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEFkZEZvcm0pO1xyXG5wb3B1cEFkZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyhcIi5wcm9maWxlX19uYW1lXCIsIFwiLnByb2ZpbGVfX2Rlc2NcIik7XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdG9yID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVcIiwge1xyXG5cdGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtRGF0YSkgPT4ge1xyXG5cdFx0cHJvZmlsZUluZm8uc2V0VXNlckluZm8oZm9ybURhdGEpO1xyXG5cdFx0cHJvZmlsZUVkaXRvci5jbG9zZVBvcHVwKCk7XHJcblx0fSxcclxufSk7XHJcblxyXG5wcm9maWxlRWRpdG9yLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBuZXdDYXJkUmVuZGVyZXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2FkZC1jYXJkXCIsIHtcclxuXHRoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcclxuXHRcdHJlbmRlckNhcmQoZm9ybURhdGEpO1xyXG5cdFx0bmV3Q2FyZFJlbmRlcmVyLmNsb3NlUG9wdXAoKTtcclxuXHR9LFxyXG59KTtcclxuXHJcbm5ld0NhcmRSZW5kZXJlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY2FyZEltZ1pvb20gPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV96b29tLWltZ1wiKTtcclxuXHJcbmNhcmRJbWdab29tLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAobmFtZSwgbGluaywgYWx0KSA9PiB7XHJcblx0Y2FyZEltZ1pvb20ub3BlblBvcHVwKG5hbWUsIGxpbmssIGFsdCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcclxuXHRjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIuY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVDYXJkQ2xpY2spLmdlbmVyYXRlQ2FyZCgpO1xyXG5cdHJldHVybiBjYXJkO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9IChkYXRhKSA9PiB7XHJcblx0Y2FyZHNMYXlvdXQucHJlcGVuZChjcmVhdGVDYXJkKGRhdGEpKTtcclxufTtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcclxuXHR7XHJcblx0XHRpdGVtczogaW5pdGlhbENhcmRzLFxyXG5cdFx0cmVuZGVyZXI6IChjYXJkSXRlbSkgPT4ge1xyXG5cdFx0XHRjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChjYXJkSXRlbSk7XHJcblx0XHRcdGluaXRpYWxDYXJkc0xpc3QuYWRkSXRlbShjYXJkKTtcclxuXHRcdH0sXHJcblx0fSxcclxuXHRcIi5jYXJkcy1sYXlvdXRcIlxyXG4pO1xyXG5cclxuaW5pdGlhbENhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xyXG5cclxucHJvZmlsZUVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRjb25zdCBwcm9mRGF0YSA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcblx0cG9wdXBFZGl0TmFtZS52YWx1ZSA9IHByb2ZEYXRhLm5hbWU7XHJcblx0cG9wdXBFZGl0UHJvZmVzc2lvbi52YWx1ZSA9IHByb2ZEYXRhLmRlc2NyaXB0aW9uO1xyXG5cdHBvcHVwRWRpdFZhbGlkYXRvci5yZXNldFZhbGlhZHRpb24oKTtcclxuXHRwcm9maWxlRWRpdG9yLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRwb3B1cEFkZFZhbGlkYXRvci5yZXNldFZhbGlhZHRpb24oKTtcclxuXHRuZXdDYXJkUmVuZGVyZXIub3BlblBvcHVwKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibyIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiYiIsImRvY3VtZW50IiwiYmFzZVVSSSIsInNlbGYiLCJsb2NhdGlvbiIsImhyZWYiLCJwcm9maWxlRWRpdEJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlQWRkQnRuIiwicG9wdXBFZGl0IiwicG9wdXBFZGl0Rm9ybSIsInBvcHVwRWRpdE5hbWUiLCJwb3B1cEVkaXRQcm9mZXNzaW9uIiwicG9wdXBBZGQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwicG9wdXBBZGRGb3JtIiwicG9wdXBab29tIiwiY2FyZHNMYXlvdXQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJlcnJvckNsYXNzQWN0aXZlIiwiaW5pdGlhbENhcmRzIiwibmFtZSIsImxpbmsiLCJhbHQiLCJVUkwiLCJDYXJkIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX2FsdCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRUaXRsZSIsIl9jYXJkSW1nIiwiX2xpa2VCdG4iLCJfcmVtb3ZlQnRuIiwidGV4dENvbnRlbnQiLCJzcmMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiX3JlbW92ZUNhcmQiLCJfc2V0Q2FyZExpa2UiLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIl9idXR0b25FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZGlzYWJsZWQiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbmNsdWRlSW52YWxpZElucHV0IiwiX2Rpc2FibGVCdXR0b25FbGVtZW50IiwiX2VuYWJsZUJ1dHRvbkVsZW1lbnQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfY2xvc2VCdG4iLCJfcG9wdXBDb250YWluZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJlIiwia2V5IiwiY2xvc2VQb3B1cCIsInRhcmdldCIsIl9oYW5kbGVPdmVybGF5Q2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJfaW1hZ2VDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9zdWJtaXRCdG4iLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjIiwiX2Rlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJwb3B1cEVkaXRWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBBZGRWYWxpZGF0b3IiLCJwcm9maWxlSW5mbyIsInByb2ZpbGVFZGl0b3IiLCJmb3JtRGF0YSIsInNldFVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJuZXdDYXJkUmVuZGVyZXIiLCJyZW5kZXJDYXJkIiwiY2FyZEltZ1pvb20iLCJvcGVuUG9wdXAiLCJjcmVhdGVDYXJkIiwiZ2VuZXJhdGVDYXJkIiwiaW5pdGlhbENhcmRzTGlzdCIsImNhcmRJdGVtIiwiY2FyZCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsInByb2ZEYXRhIiwiZ2V0VXNlckluZm8iLCJyZXNldFZhbGlhZHRpb24iXSwic291cmNlUm9vdCI6IiJ9