(()=>{"use strict";var e=document.querySelector(".profile__edit-btn"),t=(document.querySelector(".profile__name"),document.querySelector(".profile__desc"),document.querySelector(".profile__add-btn")),n=document.querySelector(".profile__avatar-btn"),o=document.querySelector(".popup_type_edit-avatar"),r=document.querySelector(".popup_type_edit-profile"),i=r.querySelector(".popup__form"),u=(r.querySelector(".popup__input_type_name"),r.querySelector(".popup__input_type_profession"),r.querySelector(".popup__submit-btn"),Array.from(r.querySelectorAll(".popup__input")),document.querySelector(".popup_type_add-card")),a=u.querySelector(".popup__form"),c=(a.querySelector(".popup__input_type_img-title"),a.querySelector(".popup__input_type_img-link"),u.querySelector(".popup__submit-btn"),Array.from(u.querySelectorAll(".popup__input")),document.querySelector(".popup_type_zoom-img")),l=(c.querySelector(".popup__img"),c.querySelector(".popup__img-desc"),document.querySelector(".cards-layout")),s=(document.querySelector(".card-template"),document.querySelectorAll(".popup"),document.querySelectorAll(".popup__close-btn"),{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error",errorClassActive:"popup__input-error_active"});function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(t,n){var o=n.data,r=n.handleCardClick,i=n.handleDeleteClick,u=n.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=o.name,this._link=o.link,this._alt=o.alt,void 0===o.alt&&(this._alt="Изображение: ".concat(o.name)),this._likes=o.likes,this._cardId=o._id,this._ownerId=o.owner._id,this._userId=o.currentUserId,this._cardSelector=t,this._handleCardClick=r,this._handleDeleteClick=i,this._handleLikeClick=u}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.cloneNode(!0).querySelector(".card")}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardTitle=this._element.querySelector(".card__title"),this._cardImg=this._element.querySelector(".card__image"),this._likeBtn=this._element.querySelector(".card__like-btn"),this._likeCounter=this._element.querySelector(".card__like-counter"),this._removeBtn=this._element.querySelector(".card__remove-btn"),this._ownerId!=this._userId&&this._removeBtn.remove(),this._cardTitle.textContent=this._name,this._cardImg.src=this._link,this._cardImg.alt=this._alt,this._showCardLikes(),this._showLikeStatus(),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._removeBtn.addEventListener("click",(function(){e._handleDeleteClick()})),this._likeBtn.addEventListener("click",(function(){e._handleLikeClick()})),this._cardImg.addEventListener("click",(function(){e._handleCardClick(e._name,e._link,e._alt)}))}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_showLikeStatus",value:function(){this.hasLiked()?this._likeBtn.classList.add("card__like-btn_active"):this._likeBtn.classList.remove("card__like-btn_active")}},{key:"_showCardLikes",value:function(){this._likeCounter.textContent=this._likes.length,this._likes.length>0?this._likeCounter.classList.add("card__like-counter_active"):this._likeCounter.classList.remove("card__like-counter_active")}},{key:"hasLiked",value:function(){var e=this;return this._likes.find((function(t){return t._id===e._userId}))}},{key:"updateLikeCounter",value:function(e){this._likes=e.likes,this._showCardLikes(),this._showLikeStatus()}},{key:"getCardId",value:function(){return this._cardId}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var _=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClassActive),t.textContent=""}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),t.classList.add(this._config.errorClassActive),t.textContent=e.validationMessage}},{key:"_includeInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_disableButtonElement",value:function(){this._buttonElement.disabled=!0}},{key:"_enableButtonElement",value:function(){this._buttonElement.disabled=!1}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))})),this._toggleButtonState()}},{key:"_toggleButtonState",value:function(){this._includeInvalidInput()?this._disableButtonElement():this._enableButtonElement()}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValiadtion",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var y=function(){function e(t,n){var o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._itemsArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"setItems",value:function(e){this._itemsArray=e}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._closeBtn=this._popup.querySelector(".popup__close-btn"),this._popupContainer=this._popup.querySelector(".popup__container"),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"_handleOverlayClose",value:function(e){e.target!=this._popup&&e.target!=this._popupContainer||this.closePopup()}},{key:"setEventListeners",value:function(){this._popup.addEventListener("click",this._handleOverlayClose.bind(this)),this._closeBtn.addEventListener("click",this.closePopup.bind(this))}},{key:"console",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){console.log(this)}))}],n&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=S(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},g.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function O(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(o);if(r){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._image=t._popup.querySelector(".popup__img"),t._imageCaption=t._popup.querySelector(".popup__img-desc"),t}return t=u,(n=[{key:"openPopup",value:function(e,t,n){this._image.src=t,this._image.alt=n,this._imageCaption.textContent=e,g(C(u.prototype),"openPopup",this).call(this)}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(v);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=I(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},L.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function T(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(o);if(r){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function u(e,t,n){var o,r=n.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,e)).handleFormSubmit=r,o._form=o._popup.querySelector(".popup__form"),o._submitBtn=o._popup.querySelector(".popup__submit-btn"),o._defaultSubmitText=t,o._submitBtn.textContent=o._defaultSubmitText,o._inputList=o._popup.querySelectorAll(".popup__input"),o._formValues={},o}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e.handleFormSubmit(e._getInputValues()),e._form.reset()})),L(R(u.prototype),"setEventListeners",this).call(this)}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"closePopup",value:function(){L(R(u.prototype),"closePopup",this).call(this),this._form.reset()}},{key:"loadingIndicator",value:function(e){this._submitBtn.textContent=e?"Сохранение...":this._defaultSubmitText}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(v);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=D(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},U.apply(this,arguments)}function D(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function F(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(u,e);var t,n,o,r,i=(o=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=z(o);if(r){var n=z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function u(e,t,n){var o,r=n.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,e))._handleFormSubmit=r,o._form=o._popup.querySelector(".popup__form"),o._submitBtn=o._popup.querySelector(".popup__submit-btn"),o._defaultSubmitText=t,o._submitBtn.textContent=o._defaultSubmitText,o}return t=u,(n=[{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._submitAction())})),U(z(u.prototype),"setEventListeners",this).call(this)}},{key:"openPopup",value:function(){U(z(u.prototype),"openPopup",this).call(this)}},{key:"setSubmitAction",value:function(e){this._submitAction=e}},{key:"loadingIndicator",value:function(e){this._submitBtn.textContent=e?"Удаление...":this._defaultSubmitText}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(v);function J(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var G=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._about=document.querySelector(n),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about}},{key:"setUserAvatar",value:function(e){this._avatar.src=e.avatar}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var M=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t,this._token=n}var t,n;return t=e,(n=[{key:"_onResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:{authorization:this._token}}).then((function(t){return e._onResponse(t)}))}},{key:"getCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:{authorization:this._token}}).then((function(t){return e._onResponse(t)}))}},{key:"addCard",value:function(e){var t=this,n=e.name,o=e.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:n,link:o})}).then((function(e){return t._onResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then((function(e){return t._onResponse(e)}))}},{key:"setUserInfo",value:function(e){var t=this,n=e.name,o=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:n,about:o})}).then((function(e){return t._onResponse(e)}))}},{key:"setAvatar",value:function(e){var t=this,n=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:n})}).then((function(e){return t._onResponse(e)}))}},{key:"toggleCardLikeStatus",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"".concat(t),headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify()}).then((function(e){return n._onResponse(e)}))}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=new _(s,i);X.enableValidation();var Y=new _(s,a);Y.enableValidation();var Z=new _(s,o);Z.enableValidation();var $=new y({renderer:function(e){var t=ae(e);$.addItem(t)}},".cards-layout"),ee=new G(".profile__name",".profile__desc",".profile__avatar"),te=0,ne=new B(".popup_type_edit-profile","Сохранить",{handleFormSubmit:function(e){ne.loadingIndicator(!0),le.setUserInfo(e).then((function(e){ee.setUserInfo(e),ne.closePopup()})).catch((function(e){console.log("Ошибка при изменении данных пользователя: ".concat(e))})).finally((function(){ne.loadingIndicator(!1)}))}});ne.setEventListeners();var oe=new B(".popup_type_add-card","Создать",{handleFormSubmit:function(e){oe.loadingIndicator(!0),le.addCard(e).then((function(e){ce(e),oe.closePopup()})).catch((function(e){console.log("Ошибка при добавлении новой карточки: ".concat(e))})).finally((function(){oe.loadingIndicator(!1)}))}});oe.setEventListeners();var re=new B(".popup_type_edit-avatar","Сохранить",{handleFormSubmit:function(e){re.loadingIndicator(!0),le.setAvatar(e).then((function(e){ee.setUserAvatar(e),re.closePopup()})).catch((function(e){console.log("Ошибка при изменении аватара пользователя: ".concat(e))})).finally((function(){re.loadingIndicator(!1)}))}});re.setEventListeners();var ie=new E(".popup_type_zoom-img");ie.setEventListeners();var ue=new N(".popup_type_confirmation","Да",{handleFormSubmit:function(){}});ue.setEventListeners();var ae=function(e){var t=new f(".card-template",{data:Q(Q({},e),{},{currentUserId:te}),handleCardClick:function(e,t,n){ie.openPopup(e,t,n)},handleDeleteClick:function(){ue.openPopup(),ue.setSubmitAction((function(){ue.loadingIndicator(!0),le.deleteCard(t.getCardId()).then((function(){t.removeCard(),ue.closePopup()})).catch((function(e){console.log("Ошибка при удалении карточки: ".concat(e))})).finally((function(){ue.loadingIndicator(!1)}))}))},handleLikeClick:function(){t.hasLiked()?le.toggleCardLikeStatus(t.getCardId(),"DELETE").then((function(e){t.updateLikeCounter(e)})).catch((function(e){console.log("Ошибка при отображении лайка карточки с сервера: ".concat(e))})):le.toggleCardLikeStatus(t.getCardId(),"PUT").then((function(e){t.updateLikeCounter(e)})).catch((function(e){console.log("Ошибка при отображении лайка карточки с сервера: ".concat(e))}))}});return t.generateCard()},ce=function(e){l.prepend(ae(e))};e.addEventListener("click",(function(){var e=ee.getUserInfo();ne.setInputValues(e),X.resetValiadtion(),ne.openPopup()})),n.addEventListener("click",(function(){Z.resetValiadtion(),re.openPopup()})),t.addEventListener("click",(function(){Y.resetValiadtion(),oe.openPopup()}));var le=new M("https://mesto.nomoreparties.co/v1/cohort-52","e0e4f5fc-61ac-48ee-ab02-f5c2e770cefc");le.getCards().then((function(e){$.setItems(e.reverse()),$.renderItems()})).catch((function(e){console.log("Ошибка при загрузке карточек с сервера: ".concat(e))})),le.getUserInfo().then((function(e){var t=e.name,n=e.about,o=e.avatar,r=e._id;te=r,ee.setUserInfo({name:t,about:n}),ee.setUserAvatar({avatar:o})})).catch((function(e){console.log("Ошибка при загрузки данных пользователя: ".concat(e))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TWlILE1BQUFBLElBQ2hDZ0MsR0FBWWdCLGNBQWMsQ0FBRS9DLE9BQUFBLEdBQzVCLElBQ0FxQyxPQUFNLFNBQUNDLEdBQ1BuRSxRQUFRQyxJQUFSLG1EQUF3RGtFLEdBQ3hELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9kYXRhLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwcm9maWxlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NcIik7XHJcbmNvbnN0IHByb2ZpbGVBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idG5cIik7XHJcblxyXG5jb25zdCBwcm9maWxlQXZhdGFyRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ0blwiKTtcclxuY29uc3QgcG9wdXBFZGl0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXQtYXZhdGFyXCIpO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVcIik7XHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGVGb3JtID0gcG9wdXBFZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlTmFtZSA9IHBvcHVwRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcclxuXHRcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCJcclxuKTtcclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZVByb2Zlc3Npb24gPSBwb3B1cEVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIucG9wdXBfX2lucHV0X3R5cGVfcHJvZmVzc2lvblwiXHJcbik7XHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGVTdWJtaXRCdG4gPVxyXG5cdHBvcHVwRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc3VibWl0LWJ0blwiKTtcclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZUlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcblx0cG9wdXBFZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKVxyXG4pO1xyXG5cclxuY29uc3QgcG9wdXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIik7XHJcbmNvbnN0IHBvcHVwQWRkRm9ybSA9IHBvcHVwQWRkLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbmNvbnN0IHBvcHVwQWRkSW1nVGl0bGUgPSBwb3B1cEFkZEZvcm0ucXVlcnlTZWxlY3RvcihcclxuXHRcIi5wb3B1cF9faW5wdXRfdHlwZV9pbWctdGl0bGVcIlxyXG4pO1xyXG5jb25zdCBwb3B1cEFkZEltZ0xpbmsgPSBwb3B1cEFkZEZvcm0ucXVlcnlTZWxlY3RvcihcclxuXHRcIi5wb3B1cF9faW5wdXRfdHlwZV9pbWctbGlua1wiXHJcbik7XHJcbmNvbnN0IHBvcHVwQWRkU3VibWl0QnRuID0gcG9wdXBBZGQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc3VibWl0LWJ0blwiKTtcclxuY29uc3QgcG9wdXBBZGRJbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG5cdHBvcHVwQWRkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXHJcbik7XHJcblxyXG5jb25zdCBwb3B1cFpvb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfem9vbS1pbWdcIik7XHJcbmNvbnN0IHBvcHVwWm9vbUltZyA9IHBvcHVwWm9vbS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWdcIik7XHJcbmNvbnN0IHBvcHVwWm9vbURlc2MgPSBwb3B1cFpvb20ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nLWRlc2NcIik7XHJcblxyXG5jb25zdCBjYXJkc0xheW91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHMtbGF5b3V0XCIpO1xyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtdGVtcGxhdGVcIik7XHJcblxyXG5jb25zdCBwb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwXCIpO1xyXG5jb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19jbG9zZS1idG5cIik7XHJcbmNvbnN0IGdldENhcmRCeUV2ZW50ID0gKGUpID0+IGUuY3VycmVudFRhcmdldC5jbG9zZXN0KFwiLmNhcmRcIik7XHJcblxyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG5cdGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuXHRpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuXHRzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idG5cIixcclxuXHRpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuXHRpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuXHRlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvclwiLFxyXG5cdGVycm9yQ2xhc3NBY3RpdmU6IFwicG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxyXG59O1xyXG5cclxuY29uc3QgYmFzZVVybCA9IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC01MlwiO1xyXG5jb25zdCB0b2tlbiA9IFwiZTBlNGY1ZmMtNjFhYy00OGVlLWFiMDItZjVjMmU3NzBjZWZjXCI7XHJcblxyXG5leHBvcnQge1xyXG5cdHByb2ZpbGVFZGl0QnRuLFxyXG5cdHByb2ZpbGVOYW1lLFxyXG5cdHByb2ZpbGVEZXNjcmlwdGlvbixcclxuXHRwcm9maWxlQWRkQnRuLFxyXG5cdHByb2ZpbGVBdmF0YXJFZGl0QnRuLFxyXG5cdHBvcHVwRWRpdEF2YXRhcixcclxuXHRwb3B1cEVkaXRQcm9maWxlLFxyXG5cdHBvcHVwRWRpdFByb2ZpbGVGb3JtLFxyXG5cdHBvcHVwRWRpdFByb2ZpbGVOYW1lLFxyXG5cdHBvcHVwRWRpdFByb2ZpbGVQcm9mZXNzaW9uLFxyXG5cdHBvcHVwRWRpdFByb2ZpbGVTdWJtaXRCdG4sXHJcblx0cG9wdXBFZGl0UHJvZmlsZUlucHV0TGlzdCxcclxuXHRwb3B1cEFkZCxcclxuXHRwb3B1cEFkZEZvcm0sXHJcblx0cG9wdXBBZGRJbWdUaXRsZSxcclxuXHRwb3B1cEFkZEltZ0xpbmssXHJcblx0cG9wdXBBZGRTdWJtaXRCdG4sXHJcblx0cG9wdXBBZGRJbnB1dExpc3QsXHJcblx0cG9wdXBab29tLFxyXG5cdHBvcHVwWm9vbUltZyxcclxuXHRwb3B1cFpvb21EZXNjLFxyXG5cdGNhcmRzTGF5b3V0LFxyXG5cdGNhcmRUZW1wbGF0ZSxcclxuXHRwb3B1cHMsXHJcblx0Y2xvc2VCdXR0b25zLFxyXG5cdGdldENhcmRCeUV2ZW50LFxyXG5cdHZhbGlkYXRpb25Db25maWcsXHJcblx0YmFzZVVybCxcclxuXHR0b2tlbixcclxufTtcclxuIiwiY2xhc3MgQ2FyZCB7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRjYXJkU2VsZWN0b3IsXHJcblx0XHR7IGRhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2VDbGljayB9XHJcblx0KSB7XHJcblx0XHR0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG5cdFx0dGhpcy5fbGluayA9IGRhdGEubGluaztcclxuXHRcdHRoaXMuX2FsdCA9IGRhdGEuYWx0O1xyXG5cdFx0aWYgKGRhdGEuYWx0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0dGhpcy5fYWx0ID0gYNCY0LfQvtCx0YDQsNC20LXQvdC40LU6ICR7ZGF0YS5uYW1lfWA7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcblx0XHR0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuXHRcdHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuXHRcdHRoaXMuX3VzZXJJZCA9IGRhdGEuY3VycmVudFVzZXJJZDtcclxuXHRcdHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuXHRcdHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuXHRcdHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcblx0XHR0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcblx0fVxyXG5cclxuXHRfZ2V0VGVtcGxhdGUoKSB7XHJcblx0XHRjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuXHRcdFx0LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XHJcblxyXG5cdFx0cmV0dXJuIGNhcmRFbGVtZW50O1xyXG5cdH1cclxuXHJcblx0Z2VuZXJhdGVDYXJkKCkge1xyXG5cdFx0dGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcblx0XHR0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcblx0XHR0aGlzLl9jYXJkSW1nID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG5cdFx0dGhpcy5fbGlrZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKTtcclxuXHRcdHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRlclwiKTtcclxuXHRcdHRoaXMuX3JlbW92ZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19yZW1vdmUtYnRuXCIpO1xyXG5cdFx0aWYgKHRoaXMuX293bmVySWQgIT0gdGhpcy5fdXNlcklkKSB7XHJcblx0XHRcdHRoaXMuX3JlbW92ZUJ0bi5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblx0XHR0aGlzLl9jYXJkSW1nLnNyYyA9IHRoaXMuX2xpbms7XHJcblx0XHR0aGlzLl9jYXJkSW1nLmFsdCA9IHRoaXMuX2FsdDtcclxuXHRcdHRoaXMuX3Nob3dDYXJkTGlrZXMoKTtcclxuXHRcdHRoaXMuX3Nob3dMaWtlU3RhdHVzKCk7XHJcblx0XHR0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cdFx0cmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcblx0fVxyXG5cclxuXHRfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHR0aGlzLl9yZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX2xpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5faGFuZGxlTGlrZUNsaWNrKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLl9jYXJkSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rLCB0aGlzLl9hbHQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZW1vdmVDYXJkKCkge1xyXG5cdFx0dGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuXHRcdHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0X3Nob3dMaWtlU3RhdHVzKCkge1xyXG5cdFx0aWYgKHRoaXMuaGFzTGlrZWQoKSkge1xyXG5cdFx0XHR0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9saWtlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cdF9zaG93Q2FyZExpa2VzKCkge1xyXG5cdFx0dGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcblxyXG5cdFx0aWYgKHRoaXMuX2xpa2VzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0dGhpcy5fbGlrZUNvdW50ZXIuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtY291bnRlcl9hY3RpdmVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9saWtlQ291bnRlci5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1jb3VudGVyX2FjdGl2ZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGhhc0xpa2VkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2xpa2VzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG5cdH1cclxuXHR1cGRhdGVMaWtlQ291bnRlcihkYXRhKSB7XHJcblx0XHR0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcblx0XHR0aGlzLl9zaG93Q2FyZExpa2VzKCk7XHJcblx0XHR0aGlzLl9zaG93TGlrZVN0YXR1cygpO1xyXG5cdH1cclxuXHJcblx0Z2V0Q2FyZElkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NhcmRJZDtcclxuXHR9XHJcbn1cclxuZXhwb3J0IHsgQ2FyZCB9O1xyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuXHRjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcblx0XHR0aGlzLl9jb25maWcgPSBjb25maWc7XHJcblx0XHR0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG5cdFx0dGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuXHRcdFx0dGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcilcclxuXHRcdCk7XHJcblx0XHR0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0dGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0X2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0YCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcblx0XHQpO1xyXG5cdFx0aW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcblx0XHRlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzc0FjdGl2ZSk7XHJcblx0XHRlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG5cdH1cclxuXHJcblx0X3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0YCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcblx0XHQpO1xyXG5cdFx0aW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcblx0XHRlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzc0FjdGl2ZSk7XHJcblx0XHRlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcblx0fVxyXG5cclxuXHRfaW5jbHVkZUludmFsaWRJbnB1dCgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcblx0XHRcdHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG5cdFx0aWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG5cdFx0XHR0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdF9kaXNhYmxlQnV0dG9uRWxlbWVudCgpIHtcclxuXHRcdHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0X2VuYWJsZUJ1dHRvbkVsZW1lbnQoKSB7XHJcblx0XHR0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHR0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcblx0XHRcdGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG5cdFx0XHRcdHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHR9XHJcblxyXG5cdF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuXHRcdGlmICh0aGlzLl9pbmNsdWRlSW52YWxpZElucHV0KCkpIHtcclxuXHRcdFx0dGhpcy5fZGlzYWJsZUJ1dHRvbkVsZW1lbnQoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuX2VuYWJsZUJ1dHRvbkVsZW1lbnQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcblx0XHR0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cdH1cclxuXHJcblx0cmVzZXRWYWxpYWR0aW9uKCkge1xyXG5cdFx0dGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcblx0XHR0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcblx0XHRcdHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEZvcm1WYWxpZGF0b3IgfTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcblx0Y29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG5cdFx0dGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHRcdHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVySXRlbXMoKSB7XHJcblx0XHR0aGlzLl9pdGVtc0FycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0dGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGFkZEl0ZW0oZWxlbWVudCkge1xyXG5cdFx0dGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcblx0fVxyXG5cdHNldEl0ZW1zKGl0ZW1zKSB7XHJcblx0XHR0aGlzLl9pdGVtc0FycmF5ID0gaXRlbXM7XHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuXHRjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcblx0XHR0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcblx0XHR0aGlzLl9jbG9zZUJ0biA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ0blwiKTtcclxuXHRcdHRoaXMuX3BvcHVwQ29udGFpbmVyID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGFpbmVyXCIpO1xyXG5cdFx0dGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG5cdH1cclxuXHJcblx0b3BlblBvcHVwKCkge1xyXG5cdFx0dGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuXHR9XHJcblxyXG5cdGNsb3NlUG9wdXAoKSB7XHJcblx0XHR0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG5cdH1cclxuXHJcblx0X2hhbmRsZUVzY0Nsb3NlKGUpIHtcclxuXHRcdGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG5cdFx0XHR0aGlzLmNsb3NlUG9wdXAoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdF9oYW5kbGVPdmVybGF5Q2xvc2UoZSkge1xyXG5cdFx0aWYgKGUudGFyZ2V0ID09IHRoaXMuX3BvcHVwIHx8IGUudGFyZ2V0ID09IHRoaXMuX3BvcHVwQ29udGFpbmVyKSB7XHJcblx0XHRcdHRoaXMuY2xvc2VQb3B1cCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHR0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlLmJpbmQodGhpcykpO1xyXG5cdFx0dGhpcy5fY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblx0Y29uc29sZSgpIHtcclxuXHRcdGNvbnNvbGUubG9nKHRoaXMpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG5cdGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuXHRcdHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWdcIik7XHJcblx0XHR0aGlzLl9pbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWctZGVzY1wiKTtcclxuXHR9XHJcblx0b3BlblBvcHVwKG5hbWUsIGxpbmssIGFsdCkge1xyXG5cdFx0dGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuXHRcdHRoaXMuX2ltYWdlLmFsdCA9IGFsdDtcclxuXHRcdHRoaXMuX2ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcblx0XHRzdXBlci5vcGVuUG9wdXAoKTtcclxuXHR9XHJcblx0XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG5cdGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGRlZmF1bHRTdWJtaXRUZXh0LCB7IGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG5cdFx0c3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblx0XHR0aGlzLmhhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG5cdFx0dGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcblx0XHR0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXQtYnRuXCIpO1xyXG5cdFx0dGhpcy5fZGVmYXVsdFN1Ym1pdFRleHQgPSBkZWZhdWx0U3VibWl0VGV4dDtcclxuXHRcdHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IHRoaXMuX2RlZmF1bHRTdWJtaXRUZXh0O1xyXG5cdFx0dGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcblx0XHR0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcblx0fVxyXG5cdF9nZXRJbnB1dFZhbHVlcygpIHtcclxuXHRcdHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuXHR9XHJcblx0c2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHQvLyAgYWRkIHN1Ym1pdCBoYW5kbGVyINC00L7QsdCw0LLQu9GP0YLRjCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdCw0LHQvNC40YLQsCDRhNC+0YDQvNGLLlxyXG5cdFx0dGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG5cdFx0XHR0aGlzLl9mb3JtLnJlc2V0KCk7XHJcblx0XHR9KTtcclxuXHRcdHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblx0fVxyXG5cdHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuXHRcdHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0XHRpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XHJcblx0XHR9KTtcclxuXHR9XHJcblx0Y2xvc2VQb3B1cCgpIHtcclxuXHRcdC8vY2xvc2UgcG9wdXAgYW5kIHJlc2V0IGZvcm1cclxuXHRcdHN1cGVyLmNsb3NlUG9wdXAoKTtcclxuXHRcdHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuXHR9XHJcblx0bG9hZGluZ0luZGljYXRvcihpc0ZldGNoaW5nKSB7XHJcblx0XHR0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSBpc0ZldGNoaW5nXHJcblx0XHRcdD8gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiXHJcblx0XHRcdDogdGhpcy5fZGVmYXVsdFN1Ym1pdFRleHQ7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG5cdGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGRlZmF1bHRTdWJtaXRUZXh0LCB7IGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG5cdFx0c3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblx0XHR0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuXHRcdHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5cdFx0dGhpcy5fc3VibWl0QnRuID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc3VibWl0LWJ0blwiKTtcclxuXHRcdHRoaXMuX2RlZmF1bHRTdWJtaXRUZXh0ID0gZGVmYXVsdFN1Ym1pdFRleHQ7XHJcblx0XHR0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSB0aGlzLl9kZWZhdWx0U3VibWl0VGV4dDtcclxuXHR9XHJcblxyXG5cdHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0dGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9zdWJtaXRBY3Rpb24oKSk7XHJcblx0XHR9KTtcclxuXHRcdHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblx0fVxyXG5cdG9wZW5Qb3B1cCgpIHtcclxuXHRcdHN1cGVyLm9wZW5Qb3B1cCgpO1xyXG5cdH1cclxuXHRzZXRTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XHJcblx0XHR0aGlzLl9zdWJtaXRBY3Rpb24gPSBhY3Rpb247XHJcblx0fVxyXG5cdGxvYWRpbmdJbmRpY2F0b3IoaXNGZXRjaGluZykge1xyXG5cdFx0dGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gaXNGZXRjaGluZ1xyXG5cdFx0XHQ/IFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiXHJcblx0XHRcdDogdGhpcy5fZGVmYXVsdFN1Ym1pdFRleHQ7XHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuXHRjb25zdHJ1Y3Rvcihwcm9maWxlTmFtZSwgcHJvZmlsZURlc2MsIHByaWZpbGVBdmF0YXIpIHtcclxuXHRcdHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lKTtcclxuXHRcdHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlRGVzYyk7XHJcblx0XHR0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByaWZpbGVBdmF0YXIpO1xyXG5cdH1cclxuXHRnZXRVc2VySW5mbygpIHtcclxuXHRcdGNvbnN0IHVzZXJEYXRhID0ge1xyXG5cdFx0XHRuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG5cdFx0XHRhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnQsXHJcblx0XHRcdGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gdXNlckRhdGE7XHJcblx0fVxyXG5cdHNldFVzZXJJbmZvKGRhdGEpIHtcclxuXHRcdHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcblx0XHR0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcblx0fVxyXG5cdHNldFVzZXJBdmF0YXIoZGF0YSkge1xyXG5cdFx0dGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG5cdGNvbnN0cnVjdG9yKGJhc2VVcmwsIHRva2VuKSB7XHJcblx0XHR0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuXHRcdHRoaXMuX3Rva2VuID0gdG9rZW47XHJcblx0fVxyXG5cclxuXHRfb25SZXNwb25zZShyZXMpIHtcclxuXHRcdGlmIChyZXMub2spIHtcclxuXHRcdFx0cmV0dXJuIHJlcy5qc29uKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG5cdH1cclxuXHJcblx0Z2V0VXNlckluZm8oKSB7XHJcblx0XHRyZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcblx0XHRcdG1ldGhvZDogXCJHRVRcIixcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG5cdFx0XHR9LFxyXG5cdFx0fSkudGhlbigocmVzKSA9PiB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9vblJlc3BvbnNlKHJlcyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldENhcmRzKCkge1xyXG5cdFx0cmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG5cdFx0XHRtZXRob2Q6IFwiR0VUXCIsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuXHRcdFx0fSxcclxuXHRcdH0pLnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fb25SZXNwb25zZShyZXMpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcblx0XHRyZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcblx0XHRcdG1ldGhvZDogXCJQT1NUXCIsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuXHRcdFx0XHRcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxyXG5cdFx0fSkudGhlbigocmVzKSA9PiB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9vblJlc3BvbnNlKHJlcyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcblx0XHRyZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG5cdFx0XHRtZXRob2Q6IFwiREVMRVRFXCIsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuXHRcdFx0fSxcclxuXHRcdH0pLnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fb25SZXNwb25zZShyZXMpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuXHRcdFx0bWV0aG9kOiBcIlBBVENIXCIsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuXHRcdFx0XHRcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dCB9KSxcclxuXHRcdH0pLnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fb25SZXNwb25zZShyZXMpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRzZXRBdmF0YXIoeyBhdmF0YXIgfSkge1xyXG5cdFx0cmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuXHRcdFx0bWV0aG9kOiBcIlBBVENIXCIsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuXHRcdFx0XHRcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSksXHJcblx0XHR9KS50aGVuKChyZXMpID0+IHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX29uUmVzcG9uc2UocmVzKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlQ2FyZExpa2VTdGF0dXMoY2FyZElkLCBtZXRob2QpIHtcclxuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcblx0XHRcdG1ldGhvZDogYCR7bWV0aG9kfWAsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuXHRcdFx0XHRcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHRcdFx0fSxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoKSxcclxuXHRcdH0pLnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fb25SZXNwb25zZShyZXMpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcblx0cHJvZmlsZUVkaXRCdG4sXHJcblx0cHJvZmlsZUFkZEJ0bixcclxuXHRwcm9maWxlQXZhdGFyRWRpdEJ0bixcclxuXHRwb3B1cEVkaXRBdmF0YXIsXHJcblx0cG9wdXBFZGl0UHJvZmlsZUZvcm0sXHJcblx0cG9wdXBBZGRGb3JtLFxyXG5cdGNhcmRzTGF5b3V0LFxyXG5cdHZhbGlkYXRpb25Db25maWcsXHJcblx0YmFzZVVybCxcclxuXHR0b2tlbixcclxufSBmcm9tIFwiLi4vdXRpbHMvZGF0YS5qc1wiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcblx0dmFsaWRhdGlvbkNvbmZpZyxcclxuXHRwb3B1cEVkaXRQcm9maWxlRm9ybVxyXG4pO1xyXG5wb3B1cEVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgcG9wdXBBZGRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEFkZEZvcm0pO1xyXG5wb3B1cEFkZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwb3B1cEF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG5cdHZhbGlkYXRpb25Db25maWcsXHJcblx0cG9wdXBFZGl0QXZhdGFyXHJcbik7XHJcbnBvcHVwQXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IENhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG5cdHtcclxuXHRcdHJlbmRlcmVyOiAoY2FyZEl0ZW0pID0+IHtcclxuXHRcdFx0Y29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoY2FyZEl0ZW0pO1xyXG5cdFx0XHRDYXJkc0xpc3QuYWRkSXRlbShjYXJkKTtcclxuXHRcdH0sXHJcblx0fSxcclxuXHRcIi5jYXJkcy1sYXlvdXRcIlxyXG4pO1xyXG5cclxuY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8oXHJcblx0XCIucHJvZmlsZV9fbmFtZVwiLFxyXG5cdFwiLnByb2ZpbGVfX2Rlc2NcIixcclxuXHRcIi5wcm9maWxlX19hdmF0YXJcIlxyXG4pO1xyXG5cclxubGV0IGN1cnJlbnRVc2VySWQgPSAwO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRvciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG5cdFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIsXHJcblx0XCLQodC+0YXRgNCw0L3QuNGC0YxcIixcclxuXHR7XHJcblx0XHRoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcclxuXHRcdFx0cHJvZmlsZUVkaXRvci5sb2FkaW5nSW5kaWNhdG9yKHRydWUpO1xyXG5cdFx0XHRhcGlcclxuXHRcdFx0XHQuc2V0VXNlckluZm8oZm9ybURhdGEpXHJcblx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG5cdFx0XHRcdFx0cHJvZmlsZUVkaXRvci5jbG9zZVBvcHVwKCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y86ICR7ZXJyfWApO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmZpbmFsbHkoKCkgPT4ge1xyXG5cdFx0XHRcdFx0cHJvZmlsZUVkaXRvci5sb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0sXHJcblx0fVxyXG4pO1xyXG5cclxucHJvZmlsZUVkaXRvci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgbmV3Q2FyZFJlbmRlcmVyID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hZGQtY2FyZFwiLCBcItCh0L7Qt9C00LDRgtGMXCIsIHtcclxuXHRoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcclxuXHRcdG5ld0NhcmRSZW5kZXJlci5sb2FkaW5nSW5kaWNhdG9yKHRydWUpO1xyXG5cdFx0YXBpXHJcblx0XHRcdC5hZGRDYXJkKGZvcm1EYXRhKVxyXG5cdFx0XHQudGhlbigoaXRlbSkgPT4ge1xyXG5cdFx0XHRcdHJlbmRlckNhcmQoaXRlbSk7XHJcblx0XHRcdFx0bmV3Q2FyZFJlbmRlcmVyLmNsb3NlUG9wdXAoKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNhdGNoKChlcnIpID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lg6ICR7ZXJyfWApO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuZmluYWxseSgoKSA9PiB7XHJcblx0XHRcdFx0bmV3Q2FyZFJlbmRlcmVyLmxvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xyXG5cdFx0XHR9KTtcclxuXHR9LFxyXG59KTtcclxuXHJcbm5ld0NhcmRSZW5kZXJlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgdXNlckF2YXRhckVkaXRvciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG5cdFwiLnBvcHVwX3R5cGVfZWRpdC1hdmF0YXJcIixcclxuXHRcItCh0L7RhdGA0LDQvdC40YLRjFwiLFxyXG5cdHtcclxuXHRcdGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtVXJsKSA9PiB7XHJcblx0XHRcdHVzZXJBdmF0YXJFZGl0b3IubG9hZGluZ0luZGljYXRvcih0cnVlKTtcclxuXHRcdFx0YXBpXHJcblx0XHRcdFx0LnNldEF2YXRhcihmb3JtVXJsKVxyXG5cdFx0XHRcdC50aGVuKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRwcm9maWxlSW5mby5zZXRVc2VyQXZhdGFyKGRhdGEpO1xyXG5cdFx0XHRcdFx0dXNlckF2YXRhckVkaXRvci5jbG9zZVBvcHVwKCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjzogJHtlcnJ9YCk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuZmluYWxseSgoKSA9PiB7XHJcblx0XHRcdFx0XHR1c2VyQXZhdGFyRWRpdG9yLmxvYWRpbmdJbmRpY2F0b3IoZmFsc2UpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHR9XHJcbik7XHJcblxyXG51c2VyQXZhdGFyRWRpdG9yLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjYXJkSW1nWm9vbSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX3pvb20taW1nXCIpO1xyXG5cclxuY2FyZEltZ1pvb20uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHVzZXJDb25maXJtYXRpb24gPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxyXG5cdFwiLnBvcHVwX3R5cGVfY29uZmlybWF0aW9uXCIsXHJcblx0XCLQlNCwXCIsXHJcblx0e1xyXG5cdFx0aGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge30sXHJcblx0fVxyXG4pO1xyXG5cclxudXNlckNvbmZpcm1hdGlvbi5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcblx0Y29uc3QgY2FyZCA9IG5ldyBDYXJkKFwiLmNhcmQtdGVtcGxhdGVcIiwge1xyXG5cdFx0ZGF0YTogeyAuLi5kYXRhLCBjdXJyZW50VXNlcklkIH0sXHJcblx0XHRoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rLCBhbHQpID0+IHtcclxuXHRcdFx0Y2FyZEltZ1pvb20ub3BlblBvcHVwKG5hbWUsIGxpbmssIGFsdCk7XHJcblx0XHR9LFxyXG5cdFx0aGFuZGxlRGVsZXRlQ2xpY2s6ICgpID0+IHtcclxuXHRcdFx0dXNlckNvbmZpcm1hdGlvbi5vcGVuUG9wdXAoKTtcclxuXHRcdFx0dXNlckNvbmZpcm1hdGlvbi5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xyXG5cdFx0XHRcdHVzZXJDb25maXJtYXRpb24ubG9hZGluZ0luZGljYXRvcih0cnVlKTtcclxuXHRcdFx0XHRhcGlcclxuXHRcdFx0XHRcdC5kZWxldGVDYXJkKGNhcmQuZ2V0Q2FyZElkKCkpXHJcblx0XHRcdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNhcmQucmVtb3ZlQ2FyZCgpO1xyXG5cdFx0XHRcdFx0XHR1c2VyQ29uZmlybWF0aW9uLmNsb3NlUG9wdXAoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC60LDRgNGC0L7Rh9C60Lg6ICR7ZXJyfWApO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC5maW5hbGx5KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0dXNlckNvbmZpcm1hdGlvbi5sb2FkaW5nSW5kaWNhdG9yKGZhbHNlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblx0XHRoYW5kbGVMaWtlQ2xpY2s6ICgpID0+IHtcclxuXHRcdFx0aWYgKGNhcmQuaGFzTGlrZWQoKSkge1xyXG5cdFx0XHRcdGFwaVxyXG5cdFx0XHRcdFx0LnRvZ2dsZUNhcmRMaWtlU3RhdHVzKGNhcmQuZ2V0Q2FyZElkKCksIFwiREVMRVRFXCIpXHJcblx0XHRcdFx0XHQudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjYXJkLnVwZGF0ZUxpa2VDb3VudGVyKGRhdGEpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdFx0XHRcdGDQntGI0LjQsdC60LAg0L/RgNC4INC+0YLQvtCx0YDQsNC20LXQvdC40Lgg0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC4INGBINGB0LXRgNCy0LXRgNCwOiAke2Vycn1gXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhcGlcclxuXHRcdFx0XHRcdC50b2dnbGVDYXJkTGlrZVN0YXR1cyhjYXJkLmdldENhcmRJZCgpLCBcIlBVVFwiKVxyXG5cdFx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdFx0Y2FyZC51cGRhdGVMaWtlQ291bnRlcihkYXRhKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRcdFx0XHRg0J7RiNC40LHQutCwINC/0YDQuCDQvtGC0L7QsdGA0LDQttC10L3QuNC4INC70LDQudC60LAg0LrQsNGA0YLQvtGH0LrQuCDRgSDRgdC10YDQstC10YDQsDogJHtlcnJ9YFxyXG5cdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0fSk7XHJcblx0cmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJDYXJkID0gKGRhdGEpID0+IHtcclxuXHRjYXJkc0xheW91dC5wcmVwZW5kKGNyZWF0ZUNhcmQoZGF0YSkpO1xyXG59O1xyXG5cclxucHJvZmlsZUVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRjb25zdCBwcm9mRGF0YSA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XHJcblx0cHJvZmlsZUVkaXRvci5zZXRJbnB1dFZhbHVlcyhwcm9mRGF0YSk7XHJcblx0cG9wdXBFZGl0VmFsaWRhdG9yLnJlc2V0VmFsaWFkdGlvbigpO1xyXG5cdHByb2ZpbGVFZGl0b3Iub3BlblBvcHVwKCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUF2YXRhckVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRwb3B1cEF2YXRhclZhbGlkYXRvci5yZXNldFZhbGlhZHRpb24oKTtcclxuXHR1c2VyQXZhdGFyRWRpdG9yLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRwb3B1cEFkZFZhbGlkYXRvci5yZXNldFZhbGlhZHRpb24oKTtcclxuXHRuZXdDYXJkUmVuZGVyZXIub3BlblBvcHVwKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaShiYXNlVXJsLCB0b2tlbik7XHJcblxyXG5hcGlcclxuXHQuZ2V0Q2FyZHMoKVxyXG5cdC50aGVuKChpdGVtcykgPT4ge1xyXG5cdFx0Q2FyZHNMaXN0LnNldEl0ZW1zKGl0ZW1zLnJldmVyc2UoKSk7XHJcblx0XHRDYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcclxuXHR9KVxyXG5cdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INC60LDRgNGC0L7Rh9C10Log0YEg0YHQtdGA0LLQtdGA0LA6ICR7ZXJyfWApO1xyXG5cdH0pO1xyXG5hcGlcclxuXHQuZ2V0VXNlckluZm8oKVxyXG5cdC50aGVuKCh7IG5hbWUsIGFib3V0LCBhdmF0YXIsIF9pZCB9KSA9PiB7XHJcblx0XHRjdXJyZW50VXNlcklkID0gX2lkO1xyXG5cdFx0cHJvZmlsZUluZm8uc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KTtcclxuXHRcdHByb2ZpbGVJbmZvLnNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSk7XHJcblx0fSlcclxuXHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0Y29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQuCDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPOiAke2Vycn1gKTtcclxuXHR9KTtcclxuIl0sIm5hbWVzIjpbInByb2ZpbGVFZGl0QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZUFkZEJ0biIsInByb2ZpbGVBdmF0YXJFZGl0QnRuIiwicG9wdXBFZGl0QXZhdGFyIiwicG9wdXBFZGl0UHJvZmlsZSIsInBvcHVwRWRpdFByb2ZpbGVGb3JtIiwicG9wdXBBZGQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwicG9wdXBBZGRGb3JtIiwicG9wdXBab29tIiwiY2FyZHNMYXlvdXQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJlcnJvckNsYXNzQWN0aXZlIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfYWx0IiwiYWx0IiwidW5kZWZpbmVkIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiX2lkIiwiX293bmVySWQiLCJvd25lciIsIl91c2VySWQiLCJjdXJyZW50VXNlcklkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRUaXRsZSIsIl9jYXJkSW1nIiwiX2xpa2VCdG4iLCJfbGlrZUNvdW50ZXIiLCJfcmVtb3ZlQnRuIiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJzcmMiLCJfc2hvd0NhcmRMaWtlcyIsIl9zaG93TGlrZVN0YXR1cyIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYXNMaWtlZCIsImNsYXNzTGlzdCIsImFkZCIsImxlbmd0aCIsImZpbmQiLCJpdGVtIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJfYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImRpc2FibGVkIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5jbHVkZUludmFsaWRJbnB1dCIsIl9kaXNhYmxlQnV0dG9uRWxlbWVudCIsIl9lbmFibGVCdXR0b25FbGVtZW50IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiX2l0ZW1zQXJyYXkiLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW1zIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2Nsb3NlQnRuIiwiX3BvcHVwQ29udGFpbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwia2V5IiwiY2xvc2VQb3B1cCIsInRhcmdldCIsIl9oYW5kbGVPdmVybGF5Q2xvc2UiLCJjb25zb2xlIiwibG9nIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJfaW1hZ2VDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImRlZmF1bHRTdWJtaXRUZXh0IiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX3N1Ym1pdEJ0biIsIl9kZWZhdWx0U3VibWl0VGV4dCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc0ZldGNoaW5nIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QWN0aW9uIiwiYWN0aW9uIiwiVXNlckluZm8iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjIiwicHJpZmlsZUF2YXRhciIsIl9hYm91dCIsIl9hdmF0YXIiLCJhYm91dCIsImF2YXRhciIsIkFwaSIsImJhc2VVcmwiLCJ0b2tlbiIsIl9iYXNlVXJsIiwiX3Rva2VuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwiX29uUmVzcG9uc2UiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsInBvcHVwRWRpdFZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cEFkZFZhbGlkYXRvciIsInBvcHVwQXZhdGFyVmFsaWRhdG9yIiwiQ2FyZHNMaXN0IiwiY2FyZEl0ZW0iLCJjYXJkIiwiY3JlYXRlQ2FyZCIsImFkZEl0ZW0iLCJwcm9maWxlSW5mbyIsInByb2ZpbGVFZGl0b3IiLCJmb3JtRGF0YSIsImxvYWRpbmdJbmRpY2F0b3IiLCJhcGkiLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiZmluYWxseSIsInNldEV2ZW50TGlzdGVuZXJzIiwibmV3Q2FyZFJlbmRlcmVyIiwiYWRkQ2FyZCIsInJlbmRlckNhcmQiLCJ1c2VyQXZhdGFyRWRpdG9yIiwiZm9ybVVybCIsInNldEF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJjYXJkSW1nWm9vbSIsInVzZXJDb25maXJtYXRpb24iLCJvcGVuUG9wdXAiLCJzZXRTdWJtaXRBY3Rpb24iLCJkZWxldGVDYXJkIiwiZ2V0Q2FyZElkIiwicmVtb3ZlQ2FyZCIsInRvZ2dsZUNhcmRMaWtlU3RhdHVzIiwidXBkYXRlTGlrZUNvdW50ZXIiLCJnZW5lcmF0ZUNhcmQiLCJwcm9mRGF0YSIsImdldFVzZXJJbmZvIiwic2V0SW5wdXRWYWx1ZXMiLCJyZXNldFZhbGlhZHRpb24iLCJnZXRDYXJkcyIsInNldEl0ZW1zIiwicmV2ZXJzZSIsInJlbmRlckl0ZW1zIl0sInNvdXJjZVJvb3QiOiIifQ==